<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AnalystOS - OneMonitoring</title>
  <!-- Preload critical assets -->
  <link rel="preload" href="images/icons.svg" as="image" type="image/svg+xml">
  <link rel="preload" href="images/1Micon.png" as="image">
  <link rel="preload" href="images/plus_Outline_24.svg" as="image">
  <link rel="preload" href="images/house_Outline_24.svg" as="image">
  <link rel="preload" href="images/i-circle_Outline_24.svg" as="image">
  <style>
    /* Font Faces */
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display');
      font-weight: 400;
    }
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display Medium');
      font-weight: 500;
    }
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display Bold');
      font-weight: 700;
    }

    :root {
      --font-header: 'Optimistic', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-body: 'SF Pro', 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --sidebar-width: 260px;
      --text-dark: #1c1e21;
      --text-muted: #65676b;
      --border-color: #e5e7eb;
      --bg-white: #ffffff;
      --bg-gray: #F1F4F7;
      --bg-sidebar: #ffffff;
      --icon-color: #65676B;
      --badge-color: #5D6C7B;
      --primary-blue: #0866FF;
      --chart-blue: #0866FF;
      --chart-green: #31A24C;
      --chart-orange: #F5A623;
      --chart-purple: #8B5CF6;
      /* New sidebar variables */
      --sidebar-bg: #ffffff;
      --text-primary: #111827;
      --text-secondary: #4b5563;
      --hover-bg: #f3f4f6;
      --active-bg: rgba(59, 130, 246, 0.1);
      --active-color: #3b82f6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-body);
      font-size: 14px;
      color: var(--text-dark);
      background: var(--bg-gray);
    }

    h1 {
      font-family: var(--font-header);
      font-size: 20px;
      font-weight: 700;
      color: var(--text-dark);
    }

    /* Layout */
    .app-container {
      display: flex;
      min-height: 100vh;
    }

    /* NEW SIDEBAR STYLES */
    .sidebar-new {
      width: var(--sidebar-width);
      height: 100vh;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      padding: 16px;
      position: fixed;
      left: 0;
      top: 0;
      overflow-y: auto;
    }

    .sidebar-new-header {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-color);
    }

    .sidebar-new-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: inherit;
    }

    .sidebar-new-logo svg { flex-shrink: 0; }
    .sidebar-new-title { font-size: 18px; font-weight: 600; color: var(--text-primary); }

    .sidebar-new-create {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 10px 16px;
      background: linear-gradient(135deg, #222AEC 0%, #3C7CF1 100%);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
      margin-bottom: 12px;
    }
    .sidebar-new-create:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(34, 42, 236, 0.3); }
    .sidebar-new-create svg { width: 16px; height: 16px; }

    .sidebar-new-search {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: #f5f5f5;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      margin-bottom: 16px;
    }
    .sidebar-new-search svg { width: 16px; height: 16px; color: var(--text-muted); flex-shrink: 0; }
    .sidebar-new-search input { flex: 1; border: none; background: transparent; font-size: 14px; color: var(--text-primary); outline: none; }
    .sidebar-new-search input::placeholder { color: var(--text-muted); }

    .sidebar-new-section { margin-bottom: 8px; }
    .sidebar-new-section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 8px 12px;
      background: transparent;
      border: none;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-secondary);
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.15s ease;
    }
    .sidebar-new-section-header:hover { background: var(--hover-bg); }
    .sidebar-new-section-header svg { width: 16px; height: 16px; }

    .sidebar-new-nav { display: flex; flex-direction: column; gap: 2px; }
    .sidebar-new-nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 8px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      font-weight: 450;
      transition: all 0.15s ease;
    }
    .sidebar-new-nav-item:hover { background: var(--hover-bg); color: var(--text-primary); }
    .sidebar-new-nav-item.active { background: var(--active-bg); color: var(--active-color); }
    .sidebar-new-nav-item svg { width: 20px; height: 20px; flex-shrink: 0; }
    .sidebar-new-nav-item .chevron { width: 16px; height: 16px; margin-left: auto; color: var(--text-muted); }
    .sidebar-new-divider { height: 1px; background: var(--border-color); margin: 12px 0; }
    .sidebar-new-nav.expandable .sidebar-new-nav-item span { flex: 1; }

    /* OLD SIDEBAR (hidden) */
    .sidebar-old { display: none; }

    /* Create Button */
    .create-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: calc(100% - 32px);
      margin: 12px 16px;
      padding: 10px 16px;
      background: #E6EBEF;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-dark);
      cursor: pointer;
      transition: background 0.15s;
    }

    .create-btn:hover {
      background: #dce1e6;
    }

    .create-btn svg {
      width: 16px;
      height: 16px;
    }

    .create-btn img {
      width: 16px;
      height: 16px;
      filter: brightness(0) saturate(100%) invert(25%) sepia(10%) saturate(500%) hue-rotate(180deg) brightness(95%) contrast(90%);
    }

    /* Search */
    .search-container {
      padding: 0 16px 12px;
    }

    .search-box {
      position: relative;
    }

    .search-box input {
      width: 100%;
      padding: 8px 32px 8px 32px;
      border: 1px solid var(--border-color);
      border-radius: 20px;
      font-size: 12px;
      font-family: inherit;
      background: var(--bg-white);
      outline: none;
      transition: all 0.2s;
    }

    .search-box input:focus {
      border-color: var(--primary-blue);
      box-shadow: 0 0 0 2px rgba(0, 82, 204, 0.1);
    }

    .search-box .search-icon {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 14px;
      height: 14px;
      color: var(--text-muted);
    }

    .search-clear-btn {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 16px;
      height: 16px;
      padding: 0;
      border: none;
      background: transparent;
      cursor: pointer;
      color: var(--text-muted);
      display: none;
    }

    .search-clear-btn.visible {
      display: block;
    }

    .search-clear-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Search Popover */
    .search-popover {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      right: 0;
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      display: none;
      max-height: 400px;
      overflow-y: auto;
    }

    .search-popover.visible {
      display: block;
    }

    .popover-section {
      padding: 8px 0;
    }

    .popover-link {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      margin: 2px 8px;
      color: var(--text-dark);
      text-decoration: none;
      border-radius: 6px;
      font-size: 13px;
      transition: background 0.15s;
    }

    .popover-link:hover {
      background: var(--bg-gray);
    }

    .popover-link span {
      flex: 1;
    }

    .popover-icon {
      width: 16px;
      height: 16px;
      color: #65676B;
      filter: brightness(0) saturate(100%) invert(42%) sepia(9%) saturate(412%) hue-rotate(169deg) brightness(94%) contrast(89%);
    }

    .popover-icon-svg {
      width: 16px;
      height: 16px;
      color: #65676B;
    }

    .external-icon {
      width: 12px;
      height: 12px;
      color: var(--text-muted);
      opacity: 0;
      transition: opacity 0.15s;
    }

    .popover-link:hover .external-icon {
      opacity: 1;
    }

    .popover-divider {
      height: 1px;
      background: var(--border-color);
      margin: 4px 12px;
    }

    .popover-label {
      font-size: 10px;
      color: var(--text-muted);
      padding: 6px 10px 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .autocomplete-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 13px;
    }

    .autocomplete-item:hover {
      background: var(--bg-gray);
    }

    .autocomplete-item .highlight {
      font-weight: 600;
      color: var(--primary-blue);
    }

    .no-results {
      padding: 12px;
      text-align: center;
      color: var(--text-muted);
      font-size: 13px;
    }

    /* Navigation */
    .nav-section {
      flex: 1;
      padding: 8px 0;
      overflow-y: auto;
      font-family: var(--font-body);
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      margin: 2px 8px;
      color: var(--text-dark);
      text-decoration: none;
      border-radius: 6px;
      font-size: 13px;
      font-family: var(--font-body);
      transition: background 0.15s;
      cursor: pointer;
    }

    .nav-item:hover {
      background: var(--bg-gray);
    }

    .nav-item.active {
      background: var(--bg-gray);
      font-weight: 500;
    }

    .nav-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      transition: background 0.15s;
      color: #65676B;
    }

    .nav-item:hover .nav-icon {
      background: #E4E6EB;
    }

    .nav-icon img {
      width: 16px;
      height: 16px;
      filter: brightness(0) saturate(100%) invert(42%) sepia(9%) saturate(412%) hue-rotate(169deg) brightness(94%) contrast(89%);
    }

    .nav-icon .icon {
      width: 16px;
      height: 16px;
    }

    .nav-icon .icon-outline {
      display: block;
    }

    .nav-icon .icon-filled {
      display: none;
    }

    .nav-item:hover .nav-icon .icon-outline,
    .nav-item.active .nav-icon .icon-outline {
      display: none;
    }

    .nav-item:hover .nav-icon .icon-filled,
    .nav-item.active .nav-icon .icon-filled {
      display: block;
    }

    /* Accordion */
    .nav-accordion {
      margin-bottom: 4px;
    }

    .accordion-trigger {
      display: flex;
      align-items: center;
      gap: 8px;
      width: calc(100% - 16px);
      margin: 2px 8px;
      padding: 6px 10px;
      background: transparent;
      border: none;
      font-size: 13px;
      font-family: var(--font-body);
      color: var(--text-dark);
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.15s;
      text-align: left;
    }

    .accordion-trigger.primary {
      font-weight: 500;
    }

    .accordion-trigger:hover {
      background: var(--bg-gray);
    }

    .accordion-trigger .nav-icon {
      flex-shrink: 0;
    }

    .accordion-trigger span:not(.nav-icon) {
      flex: 1;
    }

    .accordion-trigger .chevron {
      margin-left: auto;
      width: 14px;
      height: 14px;
      color: var(--text-muted);
      transition: transform 0.2s;
      flex-shrink: 0;
    }

    .accordion-trigger.expanded .chevron {
      transform: rotate(90deg);
    }

    .accordion-content {
      display: none;
      padding-left: 0;
    }

    .accordion-content.open {
      display: block;
    }

    .nav-divider {
      height: 1px;
      background: var(--border-color);
      margin: 8px 16px;
    }

    /* Content Area */
    .content-area {
      margin-left: var(--sidebar-width);
      flex: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    /* Page Header Bar - matching Agents page */
    .page-header-bar {
      background: var(--bg-white);
      border-bottom: 1px solid var(--border-color);
      padding: 16px 24px;
      flex-shrink: 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    /* Breadcrumb */
    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
      font-size: 13px;
    }

    .breadcrumb a {
      color: var(--primary-blue);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .breadcrumb a:hover {
      text-decoration: underline;
    }

    .breadcrumb svg {
      width: 14px;
      height: 14px;
    }

    .breadcrumb-separator {
      color: var(--text-muted);
    }

    .breadcrumb-current {
      color: var(--text-muted);
    }

    .page-header-top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .page-header-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .agent-icon {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .agent-icon svg {
      width: 18px;
      height: 18px;
      color: var(--primary-blue);
    }

    .page-header-title-area h1 {
      margin-bottom: 0;
      font-size: 20px;
      font-weight: 700;
    }

    .page-header-meta {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .type-badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      background: #E3F2FD;
      color: var(--primary-blue);
    }

    .sub-agents-info {
      color: var(--text-muted);
    }

    .page-header-actions {
      display: flex;
      gap: 8px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      border: none;
    }

    .btn-primary {
      background: #0064E0;
      color: white;
    }

    .btn-primary:hover {
      background: #0056C7;
    }

    .btn-secondary {
      background: #E6EBEF;
      color: var(--text-dark);
    }

    .btn-secondary:hover {
      background: #D8DEE4;
    }

    .btn svg {
      width: 16px;
      height: 16px;
    }

    /* Tabs - pill style */
    .page-tabs {
      display: flex;
      gap: 4px;
      margin-top: 8px;
    }

    .page-tab {
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-muted);
      background: transparent;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .page-tab:hover {
      color: var(--text-dark);
      background: #F0F2F5;
    }

    .page-tab.active {
      color: #0064E0;
      background: #E3F0FF;
    }

    /* Content Area below header */
    .page-content-area {
      flex: 1;
      padding: 24px 32px;
      max-width: 1200px;
      margin: 0 auto;
      width: 100%;
    }

    /* Metrics Grid */
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
    }

    /* Metric Card */
    .metric-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .metric-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .metric-card-title {
      font-size: 13px;
      font-weight: 500;
      color: var(--text-muted);
    }

    .metric-card-actions {
      display: flex;
      gap: 4px;
    }

    .metric-action-btn {
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: transparent;
      border-radius: 6px;
      cursor: pointer;
      color: var(--text-muted);
      transition: all 0.15s;
    }

    .metric-action-btn:hover {
      background: #F0F2F5;
      color: var(--text-dark);
    }

    .metric-action-btn svg {
      width: 16px;
      height: 16px;
    }

    .metric-value-row {
      display: flex;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 4px;
    }

    .metric-value {
      font-size: 28px;
      font-weight: 600;
      color: var(--text-dark);
    }

    .metric-trend {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 13px;
      font-weight: 500;
    }

    .metric-trend.positive {
      color: #31A24C;
    }

    .metric-trend.negative {
      color: #FF5630;
    }

    .metric-trend svg {
      width: 14px;
      height: 14px;
    }

    .metric-subtitle {
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 16px;
    }

    /* Chart Container */
    .chart-container {
      height: 120px;
      position: relative;
    }

    .chart-svg {
      width: 100%;
      height: 100%;
    }

    .chart-line {
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .chart-line.blue {
      stroke: var(--chart-blue);
    }

    .chart-line.green {
      stroke: var(--chart-green);
    }

    .chart-line.orange {
      stroke: var(--chart-orange);
    }

    .chart-line.purple {
      stroke: var(--chart-purple);
    }

    .chart-area {
      opacity: 0.1;
    }

    .chart-area.blue {
      fill: var(--chart-blue);
    }

    .chart-area.green {
      fill: var(--chart-green);
    }

    .chart-grid-line {
      stroke: #E5E7EB;
      stroke-width: 1;
    }

    .chart-axis-label {
      font-size: 10px;
      fill: #97A0AF;
    }

    /* Latency Legend */
    .latency-legend {
      display: flex;
      gap: 16px;
      margin-bottom: 8px;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .legend-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }

    .legend-dot.blue {
      background: var(--chart-blue);
    }

    .legend-dot.orange {
      background: var(--chart-orange);
    }

    .latency-values {
      display: flex;
      gap: 24px;
      margin-bottom: 4px;
    }

    .latency-value-item {
      display: flex;
      align-items: baseline;
      gap: 6px;
    }

    .latency-value-label {
      font-size: 12px;
      color: var(--text-muted);
    }

    .latency-value-number {
      font-size: 20px;
      font-weight: 600;
      color: var(--text-dark);
    }

    /* Agent Details Section */
    .details-section {
      margin-top: 24px;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }

    .section-title {
      font-size: 16px;
      font-weight: 600;
      font-family: var(--font-header);
      color: var(--text-dark);
    }

    .details-card {
      background: white;
      border-radius: 12px;
      padding: 20px 24px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    }

    .details-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }

    .detail-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .detail-label {
      font-size: 12px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .detail-value {
      font-size: 14px;
      color: var(--text-dark);
    }

    .detail-value a {
      color: var(--primary-blue);
      text-decoration: none;
    }

    .detail-value a:hover {
      text-decoration: underline;
    }

    .detail-value.mono {
      font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
      font-size: 13px;
      background: #F5F6F7;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
    }

    .owner-info {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .owner-avatar-small {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
      color: white;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .status-badge.active {
      background: #E8F5E9;
      color: #31A24C;
    }

    .status-badge.inactive {
      background: #FFF3E0;
      color: #F5A623;
    }

    .status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
    }

    /* Sub-agents Section */
    .sub-agents-section {
      margin-top: 24px;
    }

    .sub-agents-list {
      background: white;
      border-radius: 12px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }

    .sub-agent-item {
      display: flex;
      align-items: center;
      padding: 16px 20px;
      border-bottom: 1px solid var(--border-color);
      transition: background 0.15s;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
    }

    .sub-agent-item:last-child {
      border-bottom: none;
    }

    .sub-agent-item:hover {
      background: #F9FAFB;
    }

    .sub-agent-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 14px;
      flex-shrink: 0;
    }

    .sub-agent-icon svg {
      width: 18px;
      height: 18px;
      color: var(--primary-blue);
    }

    .sub-agent-info {
      flex: 1;
      min-width: 0;
    }

    .sub-agent-name {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-dark);
      margin-bottom: 2px;
    }

    .sub-agent-desc {
      font-size: 13px;
      color: var(--text-muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .sub-agent-stats {
      display: flex;
      align-items: center;
      gap: 24px;
      margin-left: 16px;
    }

    .sub-agent-stat {
      text-align: right;
    }

    .sub-agent-stat-value {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-dark);
    }

    .sub-agent-stat-label {
      font-size: 11px;
      color: var(--text-muted);
    }

    .sub-agent-health {
      margin-left: 16px;
    }

    .health-indicator {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }

    .health-indicator.healthy {
      background: #E8F5E9;
      color: #31A24C;
    }

    .health-indicator.warning {
      background: #FFF3E0;
      color: #F5A623;
    }

    .health-indicator svg {
      width: 12px;
      height: 12px;
    }

    .sub-agent-arrow {
      margin-left: 12px;
      color: var(--text-muted);
    }

    .sub-agent-arrow svg {
      width: 16px;
      height: 16px;
    }

    /* Right Side Drawer */
    .drawer-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.3);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s, visibility 0.3s;
      z-index: 1000;
    }

    .drawer-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    .details-drawer {
      position: fixed;
      top: 0;
      right: 0;
      width: 420px;
      height: 100vh;
      background: white;
      box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
      transform: translateX(100%);
      transition: transform 0.3s ease;
      z-index: 1001;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .drawer-overlay.open .details-drawer {
      transform: translateX(0);
    }

    .drawer-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px 24px;
      border-bottom: 1px solid var(--border-color);
      flex-shrink: 0;
    }

    .drawer-title {
      font-size: 18px;
      font-weight: 600;
      font-family: var(--font-header);
      color: var(--text-dark);
    }

    .drawer-close-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: transparent;
      border-radius: 8px;
      cursor: pointer;
      color: var(--text-muted);
      transition: all 0.15s;
    }

    .drawer-close-btn:hover {
      background: #F0F2F5;
      color: var(--text-dark);
    }

    .drawer-close-btn svg {
      width: 20px;
      height: 20px;
    }

    .drawer-content {
      flex: 1;
      overflow-y: auto;
      padding: 24px;
    }

    .drawer-section {
      margin-bottom: 24px;
    }

    .drawer-section:last-child {
      margin-bottom: 0;
    }

    .drawer-section-title {
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 16px;
    }

    .drawer-details-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .drawer-detail-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .drawer-detail-label {
      font-size: 12px;
      color: var(--text-muted);
    }

    .drawer-detail-value {
      font-size: 14px;
      color: var(--text-dark);
    }

    .drawer-detail-value a {
      color: var(--primary-blue);
      text-decoration: none;
    }

    .drawer-detail-value a:hover {
      text-decoration: underline;
    }

    .drawer-detail-value.mono {
      font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
      font-size: 13px;
      background: #F5F6F7;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
    }

    .btn-icon {
      padding: 8px 12px;
    }

    .btn-icon svg {
      width: 18px;
      height: 18px;
    }

    .btn-icon-img {
      width: 18px;
      height: 18px;
      filter: brightness(0) saturate(100%) invert(42%) sepia(9%) saturate(412%) hue-rotate(169deg) brightness(94%) contrast(89%);
    }
    /* Inline SVG icons */
    .icon {
      width: 16px;
      height: 16px;
      display: inline-block;
      vertical-align: middle;
      fill: currentColor;
    }
    .icon-18 { width: 18px; height: 18px; }
  </style>
</head>
<body>
  <!-- Inline SVG Sprite -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-house-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M14.39 3.87a3.507 3.507 0 0 0-4.79 0L4.26 8.88C3.46 9.63 3 10.7 3 11.8v6.5c0 1.18.82 2.21 1.96 2.45.91.19 1.86.35 2.81.47.08.01.16.02.24.02.48 0 .95-.17 1.31-.5.43-.38.68-.93.68-1.51V16c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v3.23c0 .58.25 1.12.68 1.51.43.38.99.55 1.56.48.95-.12 1.9-.28 2.81-.47 1.13-.24 1.96-1.27 1.96-2.45v-6.5c0-1.1-.46-2.17-1.26-2.92l-5.34-5.01zM19 18.3c0 .24-.16.45-.38.49-.86.18-1.74.33-2.62.44V16c0-1.65-1.35-3-3-3h-2c-1.65 0-3 1.35-3 3v3.24c-.88-.11-1.77-.26-2.63-.45A.49.49 0 0 1 5 18.3v-6.5c0-.55.23-1.08.63-1.46l5.34-5.01c.29-.27.66-.4 1.03-.4s.74.13 1.03.4l5.34 5.01c.4.38.63.91.63 1.46z"/></symbol>
    <symbol id="icon-house-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M14.39 3.87a3.507 3.507 0 0 0-4.79 0L4.26 8.88C3.46 9.63 3 10.7 3 11.8v6.5c0 1.18.82 2.21 1.96 2.45.91.19 1.86.35 2.81.47.08.01.16.02.24.02.48 0 .95-.17 1.31-.5.43-.38.68-.93.68-1.51V16c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v3.23c0 .58.25 1.12.68 1.51.43.38.99.55 1.56.48.95-.12 1.9-.28 2.81-.47 1.13-.24 1.96-1.27 1.96-2.45v-6.5c0-1.1-.46-2.17-1.26-2.92l-5.34-5.01z"/></symbol>
    <symbol id="icon-plus" viewBox="0 0 24 24"><path fill="currentColor" d="M12 20c.55 0 1-.45 1-1v-6h6c.55 0 1-.45 1-1s-.45-1-1-1h-6V5c0-.55-.45-1-1-1s-1 .45-1 1v6H5c-.55 0-1 .45-1 1s.45 1 1 1h6v6c0 .55.45 1 1 1"/></symbol>
    <symbol id="icon-star-ai-outline" viewBox="0 0 24 24"><path fill="currentColor" d="m13.45 15.11-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0l-1.52 3.04-3.04 1.52a1 1 0 0 0-.55.89c0 .37.21.73.55.89l3.04 1.52 1.52 3.04a1 1 0 0 0 .89.55c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52a1 1 0 0 0 .55-.89c0-.37-.21-.73-.55-.89zm-4.23 1.66c-.19.1-.35.25-.45.45L8 18.76l-.77-1.54c-.1-.19-.25-.35-.45-.45L5.24 16l1.54-.77c.19-.1.35-.25.45-.45L8 13.24l.77 1.54c.1.19.25.35.45.45l1.54.77zM8 5.5C8 7.43 9.57 9 11.5 9S15 7.43 15 5.5 13.43 2 11.5 2 8 3.57 8 5.5m5 0c0 .83-.67 1.5-1.5 1.5S10 6.33 10 5.5 10.67 4 11.5 4s1.5.67 1.5 1.5m7.22 2.55a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66zm-3.28 3.83 1.84-1.72.74 2.41z"/></symbol>
    <symbol id="icon-star-ai-filled" viewBox="0 0 24 24"><path fill="currentColor" d="m7.11 10.55-1.52 3.04-3.04 1.52A1 1 0 0 0 2 16c0 .37.21.73.55.89l3.04 1.52 1.52 3.04A1 1 0 0 0 8 22c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52A1 1 0 0 0 14 16c0-.37-.21-.73-.55-.89l-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0zM11.5 9a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m8.72-.95a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66z"/></symbol>
    <symbol id="icon-circles-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"/><path fill="currentColor" d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4"/><path fill="currentColor" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/></symbol>
    <symbol id="icon-dots-lines-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M6.23 10.42c.5.36 1.11.58 1.77.58l.14-.01-1.37 4.59c-.5-.36-1.11-.58-1.77-.58l-.14.01 1.37-4.59zm8.48 2.88c-.62.3-1.12.8-1.42 1.42l-4-4c.62-.3 1.12-.8 1.42-1.42l4 4zm2.52-4.88c.5.36 1.11.58 1.77.58l.14-.01-1.37 4.59c-.5-.36-1.11-.58-1.77-.58l-.15.01 1.38-4.59zM5 15c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM8 5c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"/></symbol>
    <symbol id="icon-target-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2c.55 0 1 .45 1 1v1.06c3.62.45 6.49 3.32 6.94 6.94H21c.55 0 1 .45 1 1s-.45 1-1 1h-1.06c-.45 3.62-3.32 6.49-6.94 6.94V21c0 .55-.45 1-1 1s-1-.45-1-1v-1.06c-3.62-.45-6.49-3.32-6.94-6.94H3c-.55 0-1-.45-1-1s.45-1 1-1h1.06c.45-3.62 3.32-6.49 6.94-6.94V3c0-.55.45-1 1-1zm1 5c0 .55-.45 1-1 1s-1-.45-1-1v-.92c-2.51.42-4.49 2.4-4.92 4.92H7c.55 0 1 .45 1 1s-.45 1-1 1h-.92c.43 2.51 2.41 4.49 4.92 4.92V17c0-.55.45-1 1-1s1 .45 1 1v.92c2.51-.43 4.49-2.41 4.92-4.92H17c-.55 0-1-.45-1-1s.45-1 1-1h.92c-.43-2.52-2.41-4.5-4.92-4.92V7z"/></symbol>
    <symbol id="icon-shield-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 7.88a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2v-2a1 1 0 0 1 1-1"/><path fill="currentColor" d="M3.74 5.11a17.18 17.18 0 0 1 16.51 0c.46.25.74.73.74 1.26v3.88a12 12 0 0 1-6.23 10.52l-1.81.99a2 2 0 0 1-1.92 0l-1.81-.99A12 12 0 0 1 3 10.24V6.37c0-.52.29-1 .74-1.26M19 6.71a15.18 15.18 0 0 0-14 0v3.53a10 10 0 0 0 5.2 8.77l1.8.99 1.8-.99A10 10 0 0 0 19 10.24z"/></symbol>
    <symbol id="icon-flame-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M10.71 21.92c.4.06.8.08 1.2.08 2.2 0 4.3-.85 5.79-2.38 2.13-2.18 3.23-6.73 1.31-10.28-.2-.36-.6-.57-1.01-.52a.99.99 0 0 0-.84.76c-.35 1.48-1.02 2.63-1.76 3-.06.03-.13.06-.19.08.48-2.64.68-7.81-4.22-10.53a1 1 0 0 0-1.04.04c-.31.2-.48.56-.45.94.17 1.71-1.09 3.29-2.42 4.96-1.96 2.46-4.41 5.53-2.27 9.83 1.17 2.19 3.32 3.65 5.89 4.02zM8.65 9.31c1.11-1.4 2.26-2.83 2.69-4.48 2.91 2.69 2.07 7.02 1.7 8.42-.13.48.11.98.56 1.17.91.4 1.84.38 2.7-.04.64-.32 1.21-.86 1.69-1.59.18 2.1-.55 4.25-1.71 5.44-1.32 1.35-3.29 1.99-5.28 1.71-1.94-.27-3.54-1.36-4.4-2.95-1.56-3.13.11-5.24 2.05-7.67z"/></symbol>
    <symbol id="icon-chart-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M20.25 4.96C20.01 3.83 18.98 3 17.81 3H6.2C5.03 3 4 3.82 3.76 4.96c-1 4.67-1 9.41 0 14.09.24 1.13 1.27 1.96 2.44 1.96h11.61c1.17 0 2.2-.82 2.44-1.96 1-4.67 1-9.41 0-14.09m-1.96 13.67c-.05.22-.25.37-.49.37H6.2c-.24 0-.44-.16-.49-.37-.94-4.4-.94-8.86 0-13.25.05-.22.25-.37.49-.37h11.61c.24 0 .44.16.49.37.94 4.4.94 8.86 0 13.25z"/><path fill="currentColor" d="m15.19 8.92-1.94 2.71-2.19-1.46a1 1 0 0 0-1.37.25l-2.5 3.5A1.007 1.007 0 0 0 8 15.51c.31 0 .62-.15.81-.42l1.94-2.71 2.19 1.46c.45.3 1.05.19 1.37-.25l2.5-3.5c.32-.45.22-1.07-.23-1.4-.45-.32-1.07-.22-1.4.23z"/></symbol>
    <symbol id="icon-info-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 10.28c.48 0 .88.39.88.87v4.98c0 .48-.39.87-.88.87-.48 0-.88-.39-.88-.87v-4.98c0-.48.39-.87.88-.87z"/><path fill="currentColor" d="M12 7c.83 0 1.25.4 1.25 1s-.42 1-1.25 1c-.83 0-1.25-.4-1.25-1s.42-1 1.25-1z"/><path fill="currentColor" d="M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8z"/></symbol>
  </svg>

  <div class="app-container">
    <!-- NEW SIDEBAR -->
    <nav class="sidebar-new">
      <div class="sidebar-new-header">
        <a href="index.html" class="sidebar-new-logo">
          <svg width="32" height="25" viewBox="0 0 73 57" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M72.186 51.1272C72.1736 53.2786 70.4189 55.0136 68.2676 55.0026C66.1153 54.991 64.3775 53.2364 64.3889 51.0842L72.186 51.1272ZM38.9722 49.4096C38.9722 51.5244 37.9538 53.3139 36.7714 54.4963C35.5892 55.6781 33.8019 56.6968 31.6881 56.6971H7.28743C2.85296 56.697 0 52.9988 0 49.4096V44.5216C0 42.6195 0.653047 40.7314 2.07503 39.3092C3.4973 37.8869 5.38518 37.2342 7.28743 37.2341H7.37348L7.66471 21.4513H7.53564C3.10105 21.4513 0.24821 17.7531 0.24821 14.1639V12.1319C0.24821 8.62572 2.46487 5.08602 5.74523 3.77216L5.74854 3.76885C5.76119 3.76364 5.7869 3.75369 5.82134 3.73907C5.89055 3.70968 6.00052 3.66121 6.14236 3.59676C6.42935 3.46632 6.8386 3.27125 7.29736 3.02422C8.27229 2.49921 9.24118 1.86467 9.8622 1.24373L10.1567 0.975668C11.6875 -0.273454 13.9454 -0.183336 15.3724 1.24373C16.8942 2.76571 16.8943 5.23209 15.3724 6.75399C13.9604 8.16601 12.2182 9.22714 10.9907 9.88805C10.3485 10.2338 9.78088 10.5051 9.36909 10.6922C9.16319 10.7858 8.99302 10.8581 8.86936 10.9107C8.80737 10.937 8.75506 10.9612 8.71712 10.9769C8.69904 10.9843 8.68299 10.9885 8.67079 10.9934C8.66494 10.9958 8.65866 10.9982 8.65424 11L8.64762 11.0033L8.64431 11.0066C8.6152 11.0259 8.4665 11.1236 8.30344 11.374C8.11148 11.6693 8.04199 11.9594 8.04199 12.1319V13.6575H8.21077C11.6797 13.6575 15.4717 16.3006 15.4717 20.8457C15.4717 20.8697 15.4722 20.8945 15.4717 20.9185L15.1573 37.8629L15.154 37.8596C15.129 40.1366 13.8817 41.9223 12.6785 42.9992C11.4834 44.0686 9.75188 44.9677 7.79709 45.018V48.9033H31.1784V45.0014C27.0626 44.7443 24.9344 41.3929 24.6753 38.4057L24.6489 37.7901V5.35409C24.6489 4.73218 24.7012 3.93382 24.96 3.14006C25.165 2.51143 25.8844 0.755852 27.9418 0.168159C30.0295 -0.427717 31.5792 0.719272 32.1051 1.17754C32.7364 1.72795 33.2087 2.39686 33.5546 2.96796L48.5399 27.2131L63.5251 2.96796C63.8709 2.39709 64.3404 1.72772 64.9714 1.17754C65.4965 0.719697 67.0486 -0.428646 69.138 0.168159C71.1952 0.755913 71.9115 2.51145 72.1165 3.14006C72.3754 3.93402 72.4309 4.73202 72.4309 5.35409V5.37394L72.186 51.1272L64.3889 51.0842L64.5775 16.0867L53.5504 33.9346L53.5471 33.9313C52.7411 35.256 51.1239 37.0518 48.5399 37.0521C45.9565 37.0521 44.3357 35.2592 43.5294 33.9346L32.4427 15.994V37.2672C34.0824 37.4189 35.6669 38.0755 36.9005 39.3092C38.3222 40.7314 38.9722 42.6196 38.9722 44.5216V49.4096Z" fill="url(#paint0_linear_sidebar_detail)"/>
            <defs>
              <linearGradient id="paint0_linear_sidebar_detail" x1="4.93846" y1="52.8314" x2="51.527" y2="-5.07724" gradientUnits="userSpaceOnUse">
                <stop stop-color="#222AEC"/>
                <stop offset="1" stop-color="#3C7CF1"/>
              </linearGradient>
            </defs>
          </svg>
          <span class="sidebar-new-title">OneMonitoring</span>
        </a>
      </div>
      <button class="sidebar-new-create">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
        Create
      </button>
      <div class="sidebar-new-search">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="7"/><line x1="16" y1="16" x2="21" y2="21"/></svg>
        <input type="text" placeholder="Discover" />
      </div>
      <div class="sidebar-new-section">
        <button class="sidebar-new-section-header">
          <span>ROQ Metrics Oncall</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="sidebar-new-nav">
          <a href="index.html" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
            <span>Home</span>
          </a>
          <a href="agents.html" class="sidebar-new-nav-item active">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="5" cy="6" r="2"/><circle cx="19" cy="6" r="2"/><circle cx="12" cy="18" r="2"/><path d="M5 8v2a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V8"/><line x1="12" y1="14" x2="12" y2="16"/></svg>
            <span>Agents</span>
          </a>
          <a href="#" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
            <span>Entities</span>
          </a>
          <a href="#" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
            <span>Metrics</span>
          </a>
        </div>
      </div>
      <div class="sidebar-new-divider"></div>
      <div class="sidebar-new-nav expandable">
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v10"/><path d="M21 12h-6m-6 0H1"/></svg>
          <span>Detection</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          <span>Prevention</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2C8.5 6 4 9.5 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14C20 9.5 15.5 6 12 2Z"/></svg>
          <span>SEV Criteria</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><polyline points="9 14 12 17 22 7"/></svg>
          <span>SLIs / SLOs (SLICK)</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="3" y1="9" x2="21" y2="9"/><line x1="9" y1="21" x2="9" y2="9"/></svg>
          <span>Data Exploration</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="content-area">
      <!-- Page Header Bar -->
      <div class="page-header-bar">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
          <a href="agents.html">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            Agents
          </a>
          <span class="breadcrumb-separator">/</span>
          <span class="breadcrumb-current">AnalystOS</span>
        </div>

        <div class="page-header-top">
          <div class="page-header-info">
            <div class="agent-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"/></svg>
            </div>
            <div class="page-header-title-area">
              <h1>AnalystOS</h1>
              <div class="page-header-meta">
                <span class="type-badge">Foundational</span>
                <span class="sub-agents-info">3 sub-agents</span>
                <span>â€¢</span>
                <span>Analytics</span>
              </div>
            </div>
          </div>
          <div class="page-header-actions">
            <button class="btn btn-secondary btn-icon" id="detailsToggleBtn" title="Agent Details">
              <svg class="icon icon-18"><use href="#icon-info-outline"></use></svg>
            </button>
            <button class="btn btn-secondary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
              Edit
            </button>
            <button class="btn btn-primary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
              Run Agent
            </button>
          </div>
        </div>

        <div class="page-tabs">
          <button class="page-tab active">Insights</button>
          <button class="page-tab">Evals</button>
          <button class="page-tab">Logs</button>
        </div>
      </div>

      <div class="page-content-area">
        <!-- Metrics Grid -->
        <div class="metrics-grid">
          <!-- Active Users Card -->
          <div class="metric-card">
            <div class="metric-card-header">
              <span class="metric-card-title">Active Users (WAU)</span>
              <div class="metric-card-actions">
                <button class="metric-action-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
                </button>
              </div>
            </div>
            <div class="metric-value-row">
              <span class="metric-value">510M</span>
              <span class="metric-trend positive">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 6l-9.5 9.5-5-5L1 18"/></svg>
                +12.3%
              </span>
            </div>
            <div class="metric-subtitle">vs 7d average</div>
            <div class="chart-container">
              <svg class="chart-svg" viewBox="0 0 400 100" preserveAspectRatio="none">
                <!-- Grid lines -->
                <line class="chart-grid-line" x1="0" y1="25" x2="400" y2="25"/>
                <line class="chart-grid-line" x1="0" y1="50" x2="400" y2="50"/>
                <line class="chart-grid-line" x1="0" y1="75" x2="400" y2="75"/>
                <!-- Area fill -->
                <path class="chart-area blue" d="M0,72 L20,68 L40,75 L60,62 L80,58 L100,65 L120,52 L140,48 L160,55 L180,42 L200,38 L220,45 L240,32 L260,28 L280,35 L300,25 L320,30 L340,22 L360,28 L380,20 L400,18 L400,100 L0,100 Z"/>
                <!-- Line -->
                <path class="chart-line blue" d="M0,72 L20,68 L40,75 L60,62 L80,58 L100,65 L120,52 L140,48 L160,55 L180,42 L200,38 L220,45 L240,32 L260,28 L280,35 L300,25 L320,30 L340,22 L360,28 L380,20 L400,18"/>
              </svg>
            </div>
          </div>

          <!-- Cost Card -->
          <div class="metric-card">
            <div class="metric-card-header">
              <span class="metric-card-title">Cost per 1k runs</span>
              <div class="metric-card-actions">
                <button class="metric-action-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
                </button>
              </div>
            </div>
            <div class="metric-value-row">
              <span class="metric-value">$0.42</span>
              <span class="metric-trend negative">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 18l-9.5-9.5-5 5L1 6"/></svg>
                +$0.05
              </span>
            </div>
            <div class="metric-subtitle">vs 7d average</div>
            <div class="chart-container">
              <svg class="chart-svg" viewBox="0 0 400 100" preserveAspectRatio="none">
                <!-- Grid lines -->
                <line class="chart-grid-line" x1="0" y1="25" x2="400" y2="25"/>
                <line class="chart-grid-line" x1="0" y1="50" x2="400" y2="50"/>
                <line class="chart-grid-line" x1="0" y1="75" x2="400" y2="75"/>
                <!-- Area fill -->
                <path class="chart-area green" d="M0,65 L25,58 L50,62 L75,55 L100,48 L125,52 L150,45 L175,50 L200,42 L225,38 L250,44 L275,35 L300,40 L325,32 L350,38 L375,30 L400,35 L400,100 L0,100 Z"/>
                <!-- Line -->
                <path class="chart-line green" d="M0,65 L25,58 L50,62 L75,55 L100,48 L125,52 L150,45 L175,50 L200,42 L225,38 L250,44 L275,35 L300,40 L325,32 L350,38 L375,30 L400,35"/>
              </svg>
            </div>
          </div>

          <!-- Reliability Card -->
          <div class="metric-card">
            <div class="metric-card-header">
              <span class="metric-card-title">Reliability (Success Rate)</span>
              <div class="metric-card-actions">
                <button class="metric-action-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
                </button>
              </div>
            </div>
            <div class="metric-value-row">
              <span class="metric-value">98.2%</span>
              <span class="metric-trend positive">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 6l-9.5 9.5-5-5L1 18"/></svg>
                +2.1%
              </span>
            </div>
            <div class="metric-subtitle">vs 7d average</div>
            <div class="chart-container">
              <svg class="chart-svg" viewBox="0 0 400 100" preserveAspectRatio="none">
                <!-- Grid lines -->
                <line class="chart-grid-line" x1="0" y1="25" x2="400" y2="25"/>
                <line class="chart-grid-line" x1="0" y1="50" x2="400" y2="50"/>
                <line class="chart-grid-line" x1="0" y1="75" x2="400" y2="75"/>
                <!-- Area fill -->
                <path class="chart-area blue" d="M0,35 L30,30 L60,38 L90,25 L120,22 L150,28 L180,18 L210,22 L240,15 L270,12 L300,18 L330,10 L360,15 L390,8 L400,10 L400,100 L0,100 Z"/>
                <!-- Line -->
                <path class="chart-line blue" d="M0,35 L30,30 L60,38 L90,25 L120,22 L150,28 L180,18 L210,22 L240,15 L270,12 L300,18 L330,10 L360,15 L390,8 L400,10"/>
              </svg>
            </div>
          </div>

          <!-- Latency Card -->
          <div class="metric-card">
            <div class="metric-card-header">
              <span class="metric-card-title">Latency</span>
              <div class="metric-card-actions">
                <button class="metric-action-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>
                </button>
              </div>
            </div>
            <div class="latency-legend">
              <div class="legend-item">
                <span class="legend-dot blue"></span>
                <span>p50</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot orange"></span>
                <span>p95</span>
              </div>
            </div>
            <div class="latency-values">
              <div class="latency-value-item">
                <span class="latency-value-label">p50:</span>
                <span class="latency-value-number">185ms</span>
              </div>
              <div class="latency-value-item">
                <span class="latency-value-label">p95:</span>
                <span class="latency-value-number">342ms</span>
              </div>
              <span class="metric-trend positive" style="margin-left: auto;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 18l-9.5-9.5-5 5L1 6"/></svg>
                -8.5%
              </span>
            </div>
            <div class="chart-container">
              <svg class="chart-svg" viewBox="0 0 400 100" preserveAspectRatio="none">
                <!-- Grid lines -->
                <line class="chart-grid-line" x1="0" y1="25" x2="400" y2="25"/>
                <line class="chart-grid-line" x1="0" y1="50" x2="400" y2="50"/>
                <line class="chart-grid-line" x1="0" y1="75" x2="400" y2="75"/>
                <!-- p95 line (higher values) -->
                <path class="chart-line orange" d="M0,42 L25,38 L50,45 L75,35 L100,40 L125,32 L150,38 L175,28 L200,35 L225,30 L250,38 L275,25 L300,32 L325,28 L350,35 L375,22 L400,28"/>
                <!-- p50 line (lower values) -->
                <path class="chart-line blue" d="M0,68 L25,62 L50,70 L75,58 L100,65 L125,55 L150,62 L175,52 L200,58 L225,50 L250,56 L275,48 L300,55 L325,45 L350,52 L375,42 L400,48"/>
              </svg>
            </div>
          </div>
        </div>

        <!-- Sub-agents Section -->
        <div class="sub-agents-section">
          <div class="section-header">
            <h2 class="section-title">Sub-agents (3)</h2>
          </div>
          <div class="sub-agents-list">
            <a href="#" class="sub-agent-item">
              <div class="sub-agent-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
              </div>
              <div class="sub-agent-info">
                <div class="sub-agent-name">Data Aggregator</div>
                <div class="sub-agent-desc">Collects and aggregates data from multiple sources for analysis</div>
              </div>
              <div class="sub-agent-stats">
                <div class="sub-agent-stat">
                  <div class="sub-agent-stat-value">245M</div>
                  <div class="sub-agent-stat-label">WAU</div>
                </div>
                <div class="sub-agent-stat">
                  <div class="sub-agent-stat-value">99.1%</div>
                  <div class="sub-agent-stat-label">Success</div>
                </div>
              </div>
              <div class="sub-agent-health">
                <span class="health-indicator healthy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                  Healthy
                </span>
              </div>
              <div class="sub-agent-arrow">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
              </div>
            </a>
            <a href="#" class="sub-agent-item">
              <div class="sub-agent-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
              </div>
              <div class="sub-agent-info">
                <div class="sub-agent-name">Trend Analyzer</div>
                <div class="sub-agent-desc">Identifies patterns and trends in time-series data</div>
              </div>
              <div class="sub-agent-stats">
                <div class="sub-agent-stat">
                  <div class="sub-agent-stat-value">189M</div>
                  <div class="sub-agent-stat-label">WAU</div>
                </div>
                <div class="sub-agent-stat">
                  <div class="sub-agent-stat-value">97.8%</div>
                  <div class="sub-agent-stat-label">Success</div>
                </div>
              </div>
              <div class="sub-agent-health">
                <span class="health-indicator warning">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                  Warning
                </span>
              </div>
              <div class="sub-agent-arrow">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
              </div>
            </a>
            <a href="#" class="sub-agent-item">
              <div class="sub-agent-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
              </div>
              <div class="sub-agent-info">
                <div class="sub-agent-name">Report Generator</div>
                <div class="sub-agent-desc">Creates formatted reports and visualizations from analysis results</div>
              </div>
              <div class="sub-agent-stats">
                <div class="sub-agent-stat">
                  <div class="sub-agent-stat-value">76M</div>
                  <div class="sub-agent-stat-label">WAU</div>
                </div>
                <div class="sub-agent-stat">
                  <div class="sub-agent-stat-value">99.5%</div>
                  <div class="sub-agent-stat-label">Success</div>
                </div>
              </div>
              <div class="sub-agent-health">
                <span class="health-indicator healthy">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                  Healthy
                </span>
              </div>
              <div class="sub-agent-arrow">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
              </div>
            </a>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Details Drawer -->
  <div class="drawer-overlay" id="detailsDrawer">
    <div class="details-drawer">
      <div class="drawer-header">
        <h2 class="drawer-title">Agent Details</h2>
        <button class="drawer-close-btn" id="drawerCloseBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <div class="drawer-content">
        <div class="drawer-section">
          <h3 class="drawer-section-title">General</h3>
          <div class="drawer-details-list">
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Status</span>
              <span class="drawer-detail-value">
                <span class="status-badge active">
                  <span class="status-dot"></span>
                  Active
                </span>
              </span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Agent ID</span>
              <span class="drawer-detail-value mono">analystos_v2_prod</span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Version</span>
              <span class="drawer-detail-value">2.4.1</span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Tier</span>
              <span class="drawer-detail-value">Production</span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Model</span>
              <span class="drawer-detail-value">llama-3.1-70b</span>
            </div>
          </div>
        </div>

        <div class="drawer-section">
          <h3 class="drawer-section-title">Ownership</h3>
          <div class="drawer-details-list">
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Owner</span>
              <span class="drawer-detail-value">
                <div class="owner-info">
                  <div class="owner-avatar-small">SC</div>
                  <a href="#">Sarah Chen</a>
                </div>
              </span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Oncall Team</span>
              <span class="drawer-detail-value"><a href="#">analytics_oncall</a></span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Task</span>
              <span class="drawer-detail-value"><a href="#">T123456789</a></span>
            </div>
          </div>
        </div>

        <div class="drawer-section">
          <h3 class="drawer-section-title">Deployment</h3>
          <div class="drawer-details-list">
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Last Deployed</span>
              <span class="drawer-detail-value">Dec 10, 2025 at 14:32</span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Created</span>
              <span class="drawer-detail-value">Aug 15, 2024</span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Repository</span>
              <span class="drawer-detail-value"><a href="#">fbcode/analytics/agents/analystos</a></span>
            </div>
            <div class="drawer-detail-item">
              <span class="drawer-detail-label">Config Path</span>
              <span class="drawer-detail-value mono">configs/prod/analystos.yaml</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Details Drawer functionality
    const detailsToggleBtn = document.getElementById('detailsToggleBtn');
    const detailsDrawer = document.getElementById('detailsDrawer');
    const drawerCloseBtn = document.getElementById('drawerCloseBtn');

    detailsToggleBtn.addEventListener('click', () => {
      detailsDrawer.classList.add('open');
    });

    drawerCloseBtn.addEventListener('click', () => {
      detailsDrawer.classList.remove('open');
    });

    detailsDrawer.addEventListener('click', (e) => {
      if (e.target === detailsDrawer) {
        detailsDrawer.classList.remove('open');
      }
    });

    // Search functionality
    const searchInput = document.getElementById('searchInput');
    const searchPopover = document.getElementById('searchPopover');
    const searchClearBtn = document.getElementById('searchClearBtn');
    const defaultPopoverContent = document.getElementById('defaultPopoverContent');
    const autocompleteResults = document.getElementById('autocompleteResults');
    const autocompleteList = document.getElementById('autocompleteList');

    const searchItems = [
      { name: 'Facebook Ads Manager', category: 'app' },
      { name: 'Facebook Business Suite', category: 'product' },
      { name: 'Facebook Login Integration', category: 'endpoint' },
      { name: 'Instagram Feed API', category: 'GraphQL query' },
      { name: 'Instagram Stories', category: 'comet route' },
      { name: 'Instagram Shopping', category: 'product' }
    ];

    searchInput.addEventListener('focus', () => {
      searchPopover.classList.add('visible');
    });

    searchInput.addEventListener('blur', (e) => {
      setTimeout(() => {
        if (!searchPopover.contains(document.activeElement)) {
          searchPopover.classList.remove('visible');
        }
      }, 150);
    });

    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      
      // Show/hide clear button
      if (query.length > 0) {
        searchClearBtn.classList.add('visible');
      } else {
        searchClearBtn.classList.remove('visible');
      }

      if (query.length > 0) {
        const filtered = searchItems.filter(item => 
          item.name.toLowerCase().includes(query)
        );

        if (filtered.length > 0) {
          autocompleteList.innerHTML = filtered.map(item => {
            const highlighted = item.name.replace(
              new RegExp(`(${query})`, 'gi'),
              '<span class="highlight">$1</span>'
            );
            return `
              <div class="autocomplete-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
                <span>${highlighted}</span>
                <span style="margin-left: auto; font-size: 11px; color: var(--text-muted);">${item.category}</span>
              </div>
            `;
          }).join('');
          defaultPopoverContent.style.display = 'none';
          autocompleteResults.style.display = 'block';
        } else {
          autocompleteList.innerHTML = '<div class="no-results">No results found</div>';
          defaultPopoverContent.style.display = 'none';
          autocompleteResults.style.display = 'block';
        }
      } else {
        defaultPopoverContent.style.display = 'block';
        autocompleteResults.style.display = 'none';
      }
    });

    // Clear button functionality
    searchClearBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      searchInput.value = '';
      searchClearBtn.classList.remove('visible');
      defaultPopoverContent.style.display = 'block';
      autocompleteResults.style.display = 'none';
      searchInput.focus();
    });

    // Accordion functionality
    const accordionTriggers = document.querySelectorAll('.accordion-trigger');
    accordionTriggers.forEach(trigger => {
      trigger.addEventListener('click', () => {
        const accordion = trigger.closest('.nav-accordion');
        const content = accordion.querySelector('.accordion-content');
        const isExpanded = trigger.classList.contains('expanded');

        if (isExpanded) {
          trigger.classList.remove('expanded');
          content.classList.remove('open');
        } else {
          trigger.classList.add('expanded');
          content.classList.add('open');
        }
      });
    });

    // Register Service Worker for image caching
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then((registration) => {
          console.log('ServiceWorker registered:', registration.scope);
        })
        .catch((error) => {
          console.log('ServiceWorker registration failed:', error);
        });
    }
  </script>
</body>
</html>

