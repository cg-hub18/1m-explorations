<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agents - OneMonitoring</title>
  <style>
    /* Font Faces */
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display');
      font-weight: 400;
    }
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display Medium');
      font-weight: 500;
    }
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display Bold');
      font-weight: 700;
    }

    :root {
      --font-header: 'Optimistic', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-body: 'SF Pro', 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --sidebar-width: 240px;
      --text-dark: #1c1e21;
      --text-muted: #65676b;
      --border-color: #e5e7eb;
      --bg-white: #ffffff;
      --bg-gray: #F1F4F7;
      --bg-sidebar: #ffffff;
      --icon-color: #65676B;
      --badge-color: #5D6C7B;
      --primary-blue: #0064E0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-body);
      font-size: 14px;
      color: var(--text-dark);
      background: var(--bg-gray);
    }

    h1 {
      font-family: var(--font-header);
      font-size: 20px;
      font-weight: 700;
      color: var(--text-dark);
    }

    /* Layout */
    .app-container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--bg-sidebar);
      border-right: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
    }

    .sidebar-header {
      padding: 16px;
      border-bottom: 1px solid var(--border-color);
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      color: var(--text-dark);
    }

    .logo-icon {
      width: 24px;
      height: auto;
    }

    .logo-wordmark {
      font-family: var(--font-header);
      font-size: 22px;
      font-weight: 700;
    }

    /* Create Button */
    .create-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: calc(100% - 32px);
      margin: 12px 16px;
      padding: 10px 16px;
      background: #E6EBEF;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-dark);
      cursor: pointer;
      transition: background 0.15s;
    }

    .create-btn:hover {
      background: #D8DEE4;
    }

    /* Search Container */
    .search-container {
      padding: 0 16px 12px;
    }

    .search-box {
      position: relative;
    }

    .search-box input {
      width: 100%;
      padding: 8px 32px 8px 32px;
      border: 1px solid var(--border-color);
      border-radius: 20px;
      font-size: 12px;
      font-family: inherit;
      background: var(--bg-white);
      outline: none;
      transition: all 0.2s;
    }

    .search-box input:focus {
      border-color: var(--primary-blue);
      box-shadow: 0 0 0 2px rgba(0, 100, 224, 0.1);
    }

    .search-box .search-icon {
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 14px;
      height: 14px;
      color: var(--text-muted);
    }

    .search-clear-btn {
      position: absolute;
      right: 6px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 4px;
      background: transparent;
      color: var(--text-muted);
      cursor: pointer;
      padding: 0;
      transition: all 0.15s ease;
    }

    .search-clear-btn:hover {
      background: var(--bg-gray);
      color: var(--text-dark);
    }

    .search-clear-btn.visible {
      display: flex;
    }

    .search-clear-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Search Popover */
    .search-popover {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      right: 0;
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      display: none;
      max-height: 400px;
      overflow-y: auto;
    }

    .search-popover.visible {
      display: block;
    }

    .popover-section {
      padding: 4px;
    }

    .popover-link {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      color: var(--text-dark);
      text-decoration: none;
      border-radius: 6px;
      font-size: 13px;
      transition: background 0.15s;
    }

    .popover-link:hover {
      background: var(--bg-gray);
    }

    .popover-icon {
      width: 16px;
      height: 16px;
      color: #65676B;
    }

    .popover-icon-svg {
      width: 16px;
      height: 16px;
      color: #65676B;
    }

    .popover-divider {
      height: 1px;
      background: var(--border-color);
      margin: 8px 12px;
    }

    .popover-label {
      font-size: 10px;
      color: var(--text-muted);
      padding: 6px 10px 4px;
    }

    .autocomplete-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      cursor: pointer;
      border-radius: 6px;
      margin: 2px 8px;
    }

    .autocomplete-item:hover {
      background: var(--bg-gray);
    }

    .autocomplete-item .highlight {
      background: #FFF3CD;
      padding: 0 2px;
      border-radius: 2px;
    }

    .no-results {
      padding: 16px;
      text-align: center;
      color: var(--text-muted);
      font-size: 13px;
    }

    /* Navigation */
    .nav-section {
      padding: 8px 12px;
      flex: 1;
      font-family: var(--font-body);
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      color: var(--text-dark);
      text-decoration: none;
      border-radius: 6px;
      font-size: 13px;
      font-family: var(--font-body);
      transition: background 0.15s;
    }

    .nav-item:hover {
      background: var(--bg-gray);
    }

    .nav-item.active {
      background: var(--bg-gray);
      font-weight: 500;
    }

    .nav-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: background 0.15s;
      color: #65676B;
    }

    .nav-item:hover .nav-icon {
      background: #E4E6E9;
    }

    .nav-icon .icon {
      width: 16px;
      height: 16px;
    }

    .nav-icon .icon-outline {
      display: block;
    }

    .nav-icon .icon-filled {
      display: none;
    }

    .nav-item:hover .nav-icon .icon-outline,
    .nav-item.active .nav-icon .icon-outline {
      display: none;
    }

    .nav-item:hover .nav-icon .icon-filled,
    .nav-item.active .nav-icon .icon-filled {
      display: block;
    }

    /* Accordion */
    .nav-accordion {
      margin-bottom: 4px;
    }

    .accordion-trigger {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      width: 100%;
      background: none;
      border: none;
      color: var(--text-dark);
      font-size: 13px;
      font-family: var(--font-body);
      text-align: left;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.15s;
    }

    .accordion-trigger.primary {
      font-weight: 500;
    }

    .accordion-trigger:hover {
      background: var(--bg-gray);
    }

    .accordion-trigger .nav-icon {
      flex-shrink: 0;
    }

    .accordion-trigger .chevron {
      margin-left: auto;
      width: 14px;
      height: 14px;
      color: var(--text-muted);
      transition: transform 0.2s;
    }

    .accordion-trigger.expanded .chevron {
      transform: rotate(90deg);
    }

    .accordion-content {
      display: none;
      padding-left: 0;
    }

    .accordion-content.open {
      display: block;
    }

    .accordion-content .nav-item {
      padding-left: 10px;
    }

    .nav-divider {
      height: 1px;
      background: var(--border-color);
      margin: 8px 12px;
    }

    /* Content Area */
    .content-area {
      margin-left: var(--sidebar-width);
      flex: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: var(--bg-gray);
    }

    /* Page Header */
    .page-header-bar {
      background: var(--bg-white);
      border-bottom: 1px solid var(--border-color);
      padding: 16px 24px;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .page-header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .page-header-title {
      display: flex;
      align-items: baseline;
      gap: 12px;
    }

    .page-header-title h1 {
      font-size: 20px;
      font-weight: 700;
      font-family: var(--font-header);
    }

    .results-count-text {
      font-size: 13px;
      color: var(--text-muted);
      font-weight: 400;
    }

    .page-header-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      border: none;
    }

    .btn-secondary {
      background: #E6EBEF;
      color: var(--text-dark);
    }

    .btn-secondary:hover {
      background: #D8DEE4;
    }

    .btn-primary {
      background: var(--primary-blue);
      color: white;
    }

    .btn-primary:hover {
      background: #0052CC;
    }

    /* Filter Pills */
    .filter-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .filter-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: transparent;
      border: none;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-muted);
      cursor: pointer;
      transition: all 0.15s;
    }

    .filter-pill:hover {
      background: #F0F2F5;
      color: var(--text-dark);
    }

    .filter-pill.active {
      background: #E3F0FF;
      color: #0064E0;
    }

    .filter-pill svg {
      width: 14px;
      height: 14px;
    }

    /* Table */
    .table-container {
      flex: 1;
      padding: 16px 24px;
      overflow-y: auto;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
      background: var(--bg-white);
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid var(--border-color);
    }

    .data-table th {
      text-align: left;
      padding: 12px 16px;
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 1px solid var(--border-color);
      background: #FAFBFC;
    }

    .data-table td {
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-color);
      font-size: 14px;
    }

    .data-table tr:last-child td {
      border-bottom: none;
    }

    .data-table tbody tr {
      cursor: pointer;
      transition: background 0.15s;
    }

    .data-table tbody tr:hover {
      background: #F8F9FA;
    }

    /* Agent Name Cell */
    .agent-name-cell {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .agent-type-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #F0F2F5;
      color: #65676B;
      flex-shrink: 0;
    }

    .agent-type-icon.foundational {
      background: #E3F0FF;
      color: #0064E0;
    }

    .agent-type-icon.sub-agent {
      background: #F3E8FF;
      color: #7C3AED;
    }

    .agent-type-icon svg {
      width: 18px;
      height: 18px;
    }

    .agent-name-info h4 {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-dark);
      margin: 0 0 2px 0;
      transition: color 0.15s;
    }

    tr:hover .agent-name-info h4 {
      color: var(--primary-blue);
    }

    .agent-name-info span {
      font-size: 12px;
      color: var(--text-muted);
    }

    /* Type Badge */
    .type-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      background: #F0F2F5;
      color: var(--text-dark);
    }

    /* Owner Cell */
    .owner-cell {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .owner-avatar {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      font-weight: 600;
      color: white;
    }

    .owner-cell p {
      margin: 0;
      font-size: 14px;
    }

    /* WAU Value */
    .wau-value {
      font-weight: 500;
      color: var(--text-dark);
    }

    /* Health Badge */
    .health-badge {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .health-badge.healthy {
      background: #E6F4EA;
      color: #137333;
    }

    .health-badge.warning {
      background: #FFF4E5;
      color: #B36200;
    }

    .health-badge.critical {
      background: #FCE8E6;
      color: #C5221F;
    }

    /* Action Buttons */
    .action-btns {
      display: flex;
      gap: 4px;
      opacity: 0;
      transition: opacity 0.15s;
    }

    tr:hover .action-btns {
      opacity: 1;
    }

    .action-icon-btn {
      width: 28px;
      height: 28px;
      border: none;
      background: transparent;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
      text-decoration: none;
    }

    .action-icon-btn:hover {
      background: #E4E6EB;
      color: var(--text-dark);
    }

    .action-icon-btn svg {
      width: 16px;
      height: 16px;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    /* Inline SVG icons */
    .icon {
      width: 16px;
      height: 16px;
      display: inline-block;
      vertical-align: middle;
      fill: currentColor;
    }
    .icon-20 { width: 20px; height: 20px; }
    .icon-24 { width: 24px; height: 24px; }
  </style>
</head>
<body>
  <!-- Inline SVG Sprite -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-house-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M14.39 3.87a3.507 3.507 0 0 0-4.79 0L4.26 8.88C3.46 9.63 3 10.7 3 11.8v6.5c0 1.18.82 2.21 1.96 2.45.91.19 1.86.35 2.81.47.08.01.16.02.24.02.48 0 .95-.17 1.31-.5.43-.38.68-.93.68-1.51V16c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v3.23c0 .58.25 1.12.68 1.51.43.38.99.55 1.56.48.95-.12 1.9-.28 2.81-.47 1.13-.24 1.96-1.27 1.96-2.45v-6.5c0-1.1-.46-2.17-1.26-2.92l-5.34-5.01zM19 18.3c0 .24-.16.45-.38.49-.86.18-1.74.33-2.62.44V16c0-1.65-1.35-3-3-3h-2c-1.65 0-3 1.35-3 3v3.24c-.88-.11-1.77-.26-2.63-.45A.49.49 0 0 1 5 18.3v-6.5c0-.55.23-1.08.63-1.46l5.34-5.01c.29-.27.66-.4 1.03-.4s.74.13 1.03.4l5.34 5.01c.4.38.63.91.63 1.46z"/></symbol>
    <symbol id="icon-house-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M14.39 3.87a3.507 3.507 0 0 0-4.79 0L4.26 8.88C3.46 9.63 3 10.7 3 11.8v6.5c0 1.18.82 2.21 1.96 2.45.91.19 1.86.35 2.81.47.08.01.16.02.24.02.48 0 .95-.17 1.31-.5.43-.38.68-.93.68-1.51V16c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v3.23c0 .58.25 1.12.68 1.51.43.38.99.55 1.56.48.95-.12 1.9-.28 2.81-.47 1.13-.24 1.96-1.27 1.96-2.45v-6.5c0-1.1-.46-2.17-1.26-2.92l-5.34-5.01z"/></symbol>
    <symbol id="icon-plus" viewBox="0 0 24 24"><path fill="currentColor" d="M12 20c.55 0 1-.45 1-1v-6h6c.55 0 1-.45 1-1s-.45-1-1-1h-6V5c0-.55-.45-1-1-1s-1 .45-1 1v6H5c-.55 0-1 .45-1 1s.45 1 1 1h6v6c0 .55.45 1 1 1"/></symbol>
    <symbol id="icon-star-ai-outline" viewBox="0 0 24 24"><path fill="currentColor" d="m13.45 15.11-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0l-1.52 3.04-3.04 1.52a1 1 0 0 0-.55.89c0 .37.21.73.55.89l3.04 1.52 1.52 3.04a1 1 0 0 0 .89.55c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52a1 1 0 0 0 .55-.89c0-.37-.21-.73-.55-.89zm-4.23 1.66c-.19.1-.35.25-.45.45L8 18.76l-.77-1.54c-.1-.19-.25-.35-.45-.45L5.24 16l1.54-.77c.19-.1.35-.25.45-.45L8 13.24l.77 1.54c.1.19.25.35.45.45l1.54.77zM8 5.5C8 7.43 9.57 9 11.5 9S15 7.43 15 5.5 13.43 2 11.5 2 8 3.57 8 5.5m5 0c0 .83-.67 1.5-1.5 1.5S10 6.33 10 5.5 10.67 4 11.5 4s1.5.67 1.5 1.5m7.22 2.55a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66zm-3.28 3.83 1.84-1.72.74 2.41z"/></symbol>
    <symbol id="icon-star-ai-filled" viewBox="0 0 24 24"><path fill="currentColor" d="m7.11 10.55-1.52 3.04-3.04 1.52A1 1 0 0 0 2 16c0 .37.21.73.55.89l3.04 1.52 1.52 3.04A1 1 0 0 0 8 22c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52A1 1 0 0 0 14 16c0-.37-.21-.73-.55-.89l-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0zM11.5 9a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m8.72-.95a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66z"/></symbol>
    <symbol id="icon-circles-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"/><path fill="currentColor" d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4"/><path fill="currentColor" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/></symbol>
    <symbol id="icon-circles-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"/><path fill="currentColor" d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4"/><path fill="currentColor" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/></symbol>
    <symbol id="icon-dots-lines-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M6.23 10.42c.5.36 1.11.58 1.77.58l.14-.01-1.37 4.59c-.5-.36-1.11-.58-1.77-.58l-.14.01 1.37-4.59zm8.48 2.88c-.62.3-1.12.8-1.42 1.42l-4-4c.62-.3 1.12-.8 1.42-1.42l4 4zm2.52-4.88c.5.36 1.11.58 1.77.58l.14-.01-1.37 4.59c-.5-.36-1.11-.58-1.77-.58l-.15.01 1.38-4.59zM5 15c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM8 5c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"/></symbol>
    <symbol id="icon-dots-lines-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3c1.66 0 3 1.34 3 3 0 1.61-1.27 2.92-2.86 3l-1.37 4.58c.75.55 1.24 1.43 1.24 2.43 0 1.66-1.34 3-3 3s-3-1.34-3-3c0-.46.11-.9.29-1.29l-4-4c-.4.18-.83.29-1.29.29l-.14-.01-1.37 4.58c.76.55 1.25 1.44 1.25 2.44 0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3l.15.01 1.46-4.88c-.56-.55-.96-1.28-1.12-2.1-.01-.01-.01-.02-.01-.03 0-1.66 1.34-3 3-3l.15.01c.58.03 1.11.22 1.56.52l4.14 4.14c.39-.17.82-.28 1.27-.29l.15.01 1.46-4.89c-.56-.54-.95-1.27-1.11-2.08 0-.01 0-.03-.01-.04 0-1.66 1.34-3 3-3z"/></symbol>
    <symbol id="icon-target-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2c.55 0 1 .45 1 1v1.06c3.62.45 6.49 3.32 6.94 6.94H21c.55 0 1 .45 1 1s-.45 1-1 1h-1.06c-.45 3.62-3.32 6.49-6.94 6.94V21c0 .55-.45 1-1 1s-1-.45-1-1v-1.06c-3.62-.45-6.49-3.32-6.94-6.94H3c-.55 0-1-.45-1-1s.45-1 1-1h1.06c.45-3.62 3.32-6.49 6.94-6.94V3c0-.55.45-1 1-1zm1 5c0 .55-.45 1-1 1s-1-.45-1-1v-.92c-2.51.42-4.49 2.4-4.92 4.92H7c.55 0 1 .45 1 1s-.45 1-1 1h-.92c.43 2.51 2.41 4.49 4.92 4.92V17c0-.55.45-1 1-1s1 .45 1 1v.92c2.51-.43 4.49-2.41 4.92-4.92H17c-.55 0-1-.45-1-1s.45-1 1-1h.92c-.43-2.52-2.41-4.5-4.92-4.92V7z"/></symbol>
    <symbol id="icon-target-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2c.55 0 1 .45 1 1v1.06c3.62.45 6.49 3.32 6.94 6.94H21c.55 0 1 .45 1 1s-.45 1-1 1h-1.06c-.45 3.62-3.32 6.49-6.94 6.94V21c0 .55-.45 1-1 1s-1-.45-1-1v-1.06c-3.62-.45-6.49-3.32-6.94-6.94H3c-.55 0-1-.45-1-1s.45-1 1-1h1.06c.45-3.62 3.32-6.49 6.94-6.94V3c0-.55.45-1 1-1zm1 5c0 .55-.45 1-1 1s-1-.45-1-1v-.92c-2.51.42-4.49 2.4-4.92 4.92H7c.55 0 1 .45 1 1s-.45 1-1 1h-.92c.43 2.51 2.41 4.49 4.92 4.92V17c0-.55.45-1 1-1s1 .45 1 1v.92c2.51-.43 4.49-2.41 4.92-4.92H17c-.55 0-1-.45-1-1s.45-1 1-1h.92c-.43-2.52-2.41-4.5-4.92-4.92V7z"/></symbol>
    <symbol id="icon-shield-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M12 7.88a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2v-2a1 1 0 0 1 1-1"/><path fill="currentColor" d="M3.74 5.11a17.18 17.18 0 0 1 16.51 0c.46.25.74.73.74 1.26v3.88a12 12 0 0 1-6.23 10.52l-1.81.99a2 2 0 0 1-1.92 0l-1.81-.99A12 12 0 0 1 3 10.24V6.37c0-.52.29-1 .74-1.26M19 6.71a15.18 15.18 0 0 0-14 0v3.53a10 10 0 0 0 5.2 8.77l1.8.99 1.8-.99A10 10 0 0 0 19 10.24z"/></symbol>
    <symbol id="icon-shield-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M3.74 5.11a17.18 17.18 0 0 1 16.51 0c.46.25.74.73.74 1.26v3.88a12 12 0 0 1-6.23 10.52l-1.81.99a2 2 0 0 1-1.92 0l-1.81-.99A12 12 0 0 1 3 10.24V6.37c0-.52.29-1 .74-1.26M12 7.88a1 1 0 0 0-1 1v2H9a1 1 0 1 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2h-2v-2a1 1 0 0 0-1-1"/></symbol>
    <symbol id="icon-flame-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M10.71 21.92c.4.06.8.08 1.2.08 2.2 0 4.3-.85 5.79-2.38 2.13-2.18 3.23-6.73 1.31-10.28-.2-.36-.6-.57-1.01-.52a.99.99 0 0 0-.84.76c-.35 1.48-1.02 2.63-1.76 3-.06.03-.13.06-.19.08.48-2.64.68-7.81-4.22-10.53a1 1 0 0 0-1.04.04c-.31.2-.48.56-.45.94.17 1.71-1.09 3.29-2.42 4.96-1.96 2.46-4.41 5.53-2.27 9.83 1.17 2.19 3.32 3.65 5.89 4.02zM8.65 9.31c1.11-1.4 2.26-2.83 2.69-4.48 2.91 2.69 2.07 7.02 1.7 8.42-.13.48.11.98.56 1.17.91.4 1.84.38 2.7-.04.64-.32 1.21-.86 1.69-1.59.18 2.1-.55 4.25-1.71 5.44-1.32 1.35-3.29 1.99-5.28 1.71-1.94-.27-3.54-1.36-4.4-2.95-1.56-3.13.11-5.24 2.05-7.67z"/></symbol>
    <symbol id="icon-flame-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M10.99 2.13a1 1 0 0 0-1.04.04c-.31.2-.48.56-.45.94.17 1.71-1.09 3.29-2.42 4.96-1.96 2.46-4.41 5.53-2.27 9.83 1.17 2.19 3.32 3.65 5.89 4.02.4.06.8.08 1.2.08 2.2 0 4.3-.85 5.79-2.38 2.13-2.18 3.23-6.73 1.31-10.28-.2-.36-.6-.57-1.01-.52a.99.99 0 0 0-.84.76c-.35 1.48-1.02 2.63-1.76 3-.06.03-.13.06-.19.08.48-2.64.68-7.81-4.22-10.53z"/></symbol>
    <symbol id="icon-chart-outline" viewBox="0 0 24 24"><path fill="currentColor" d="M20.25 4.96C20.01 3.83 18.98 3 17.81 3H6.2C5.03 3 4 3.82 3.76 4.96c-1 4.67-1 9.41 0 14.09.24 1.13 1.27 1.96 2.44 1.96h11.61c1.17 0 2.2-.82 2.44-1.96 1-4.67 1-9.41 0-14.09m-1.96 13.67c-.05.22-.25.37-.49.37H6.2c-.24 0-.44-.16-.49-.37-.94-4.4-.94-8.86 0-13.25.05-.22.25-.37.49-.37h11.61c.24 0 .44.16.49.37.94 4.4.94 8.86 0 13.25z"/><path fill="currentColor" d="m15.19 8.92-1.94 2.71-2.19-1.46a1 1 0 0 0-1.37.25l-2.5 3.5A1.007 1.007 0 0 0 8 15.51c.31 0 .62-.15.81-.42l1.94-2.71 2.19 1.46c.45.3 1.05.19 1.37-.25l2.5-3.5c.32-.45.22-1.07-.23-1.4-.45-.32-1.07-.22-1.4.23z"/></symbol>
    <symbol id="icon-chart-filled" viewBox="0 0 24 24"><path fill="currentColor" d="M20.25 4.96C20.01 3.83 18.98 3 17.81 3H6.2C5.03 3 4 3.82 3.76 4.96c-1 4.67-1 9.41 0 14.09.24 1.13 1.27 1.96 2.44 1.96h11.61c1.17 0 2.2-.82 2.44-1.96 1-4.67 1-9.41 0-14.09m-3.44 5.12-2.5 3.5a1 1 0 0 1-1.37.25l-2.19-1.46-1.94 2.71c-.2.27-.5.42-.81.42a1.006 1.006 0 0 1-.81-1.59l2.5-3.5a1 1 0 0 1 1.37-.25l2.19 1.46 1.94-2.71c.32-.45.95-.55 1.4-.23s.55.95.23 1.4z"/></symbol>
  </svg>

  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="logo">
          <img src="images/1Micon.png" alt="1M" class="logo-icon">
          <span class="logo-wordmark">OneMonitoring</span>
        </a>
      </div>

      <button class="create-btn">
        <svg class="icon"><use href="#icon-plus"></use></svg>
        Create
      </button>

      <div class="search-container">
        <div class="search-box">
          <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input type="text" placeholder="Discover" id="searchInput">
          <button class="search-clear-btn" id="searchClearBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>

          <!-- Search Popover -->
          <div class="search-popover" id="searchPopover">
            <div id="defaultPopoverContent">
              <div class="popover-section">
                <a href="agents.html" class="popover-link">
                  <svg class="icon popover-icon"><use href="#icon-star-ai-outline"></use></svg>
                  <span>Agents</span>
                </a>
                <a href="#" class="popover-link">
                  <svg class="popover-icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                  <span>MCP Tools</span>
                </a>
                <a href="#" class="popover-link">
                  <svg class="popover-icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
                  <span>Mobile Apps</span>
                </a>
                <a href="#" class="popover-link">
                  <svg class="popover-icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                  <span>Comet Apps</span>
                </a>
              </div>
              <div class="popover-divider"></div>
              <div class="popover-section">
                <div class="popover-label">Recent</div>
                <a href="#" class="popover-link">
                  <svg class="icon popover-icon"><use href="#icon-star-ai-outline"></use></svg>
                  <span>AI Assistant Agent</span>
                </a>
                <a href="#" class="popover-link">
                  <svg class="popover-icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                  <span>Data Processing Tool</span>
                </a>
              </div>
            </div>
            <div id="autocompleteResults" style="display: none;">
              <div class="popover-label">Results</div>
              <div id="autocompleteList"></div>
            </div>
          </div>
        </div>
      </div>

      <nav class="nav-section">
        <!-- ROQ Metrics Oncall Accordion -->
        <div class="nav-accordion">
          <button class="accordion-trigger primary expanded">
            <span>ROQ Metrics Oncall</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
          <div class="accordion-content open">
            <a href="index.html" class="nav-item">
              <span class="nav-icon">
                <svg class="icon icon-outline"><use href="#icon-house-outline"></use></svg>
                <svg class="icon icon-filled"><use href="#icon-house-filled"></use></svg>
              </span>
              <span>Home</span>
            </a>
            <a href="agents.html" class="nav-item active">
              <span class="nav-icon">
                <svg class="icon icon-outline"><use href="#icon-star-ai-outline"></use></svg>
                <svg class="icon icon-filled"><use href="#icon-star-ai-filled"></use></svg>
              </span>
              <span>Agents</span>
            </a>
            <a href="#" class="nav-item">
              <span class="nav-icon">
                <svg class="icon icon-outline"><use href="#icon-circles-outline"></use></svg>
                <svg class="icon icon-filled"><use href="#icon-circles-filled"></use></svg>
              </span>
              <span>Entities</span>
            </a>
            <a href="#" class="nav-item">
              <span class="nav-icon">
                <svg class="icon icon-outline"><use href="#icon-dots-lines-outline"></use></svg>
                <svg class="icon icon-filled"><use href="#icon-dots-lines-filled"></use></svg>
              </span>
              <span>Metrics</span>
            </a>
          </div>
        </div>

        <div class="nav-divider"></div>

        <!-- Monitoring Accordions -->
        <div class="nav-accordion">
          <button class="accordion-trigger">
            <span class="nav-icon">
              <svg class="icon icon-outline"><use href="#icon-target-outline"></use></svg>
              <svg class="icon icon-filled"><use href="#icon-target-filled"></use></svg>
            </span>
            <span>Detection</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
          <div class="accordion-content"></div>
        </div>

        <div class="nav-accordion">
          <button class="accordion-trigger">
            <span class="nav-icon">
              <svg class="icon icon-outline"><use href="#icon-shield-outline"></use></svg>
              <svg class="icon icon-filled"><use href="#icon-shield-filled"></use></svg>
            </span>
            <span>Prevention</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
          <div class="accordion-content"></div>
        </div>

        <div class="nav-accordion">
          <button class="accordion-trigger">
            <span class="nav-icon">
              <svg class="icon icon-outline"><use href="#icon-flame-outline"></use></svg>
              <svg class="icon icon-filled"><use href="#icon-flame-filled"></use></svg>
            </span>
            <span>SEV Criteria</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
          <div class="accordion-content"></div>
        </div>

        <div class="nav-divider"></div>

        <div class="nav-accordion">
          <button class="accordion-trigger">
            <span class="nav-icon">
              <svg class="icon icon-outline"><use href="#icon-chart-outline"></use></svg>
              <svg class="icon icon-filled"><use href="#icon-chart-filled"></use></svg>
            </span>
            <span>SLIs / SLOs (SLICK)</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
          <div class="accordion-content"></div>
        </div>

        <div class="nav-accordion">
          <button class="accordion-trigger">
            <span class="nav-icon">
              <svg class="icon icon-outline"><use href="#icon-chart-outline"></use></svg>
              <svg class="icon icon-filled"><use href="#icon-chart-filled"></use></svg>
            </span>
            <span>Data Exploration</span>
            <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
          </button>
          <div class="accordion-content"></div>
        </div>
      </nav>
    </aside>

    <!-- Content Area -->
    <div class="content-area">
      <!-- Page Header -->
      <div class="page-header-bar">
        <div class="page-header-top">
          <div class="page-header-title">
            <h1>Agents</h1>
            <span class="results-count-text" id="resultsCount">50 results</span>
          </div>
          <div class="page-header-actions">
            <button class="btn btn-secondary">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" y1="2" x2="12" y2="15"/></svg>
              Export
            </button>
          </div>
        </div>
        <div class="filter-pills">
          <button class="filter-pill active">All types</button>
          <button class="filter-pill">Foundational</button>
          <button class="filter-pill">Sub-Agent</button>
          <button class="filter-pill">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
            More filters
          </button>
        </div>
      </div>

      <!-- Table -->
      <div class="table-container" id="tableContainer">
        <table class="data-table">
          <thead>
            <tr>
              <th style="width: 34%">Name / Description</th>
              <th style="width: 17%">Type</th>
              <th style="width: 22%">Owner</th>
              <th style="width: 12%">WAU</th>
              <th style="width: 12%">Health</th>
              <th style="width: 3%"></th>
            </tr>
          </thead>
          <tbody id="agentsTableBody">
            <!-- Rows generated by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <script>
    // Agent Data
    const agentsData = [
      { name: 'AnalystOS', desc: 'Analytics', type: 'Foundational', owner: 'Sarah Chen', wau: '510M', health: 'healthy' },
      { name: 'Approvals & Procurement Agent', desc: 'Operations', type: 'Foundational', owner: 'Mike Johnson', wau: '434M', health: 'healthy' },
      { name: 'Calendar & Coordination Agent', desc: 'Productivity', type: 'Foundational', owner: 'Alex Rivera', wau: '633M', health: 'healthy' },
      { name: 'Commerce & Payments Agent', desc: 'Commerce', type: 'Foundational', owner: 'Emily Zhang', wau: '823M', health: 'healthy' },
      { name: 'Content Integrity Agent', desc: 'Integrity', type: 'Foundational', owner: 'Chris Park', wau: '245M', health: 'healthy' },
      { name: 'DevMate Code Agent', desc: 'Engineering', type: 'Foundational', owner: 'Jordan Lee', wau: '44M', health: 'healthy' },
      { name: 'DevOps Runbook Agent', desc: 'SRE/Production', type: 'Foundational', owner: 'Sam Taylor', wau: '1.04B', health: 'healthy' },
      { name: 'Finance FP&A Agent', desc: 'Finance', type: 'Foundational', owner: 'Morgan Davis', wau: '184M', health: 'healthy' },
      { name: 'Growth & Marketing Agent', desc: 'Growth', type: 'Foundational', owner: 'Casey White', wau: '2.03B', health: 'healthy' },
      { name: 'Helpdesk & Support Agent', desc: 'Support', type: 'Foundational', owner: 'Riley Brown', wau: '434M', health: 'healthy' },
      { name: 'Knowledge & Document Agent', desc: 'Knowledge', type: 'Foundational', owner: 'Quinn Garcia', wau: '200M', health: 'healthy' },
      { name: 'Policy Analyst Agent', desc: 'Policy', type: 'Foundational', owner: 'Avery Martinez', wau: '200M', health: 'healthy' },
      { name: 'Recruiting & HR Agent', desc: 'HR', type: 'Foundational', owner: 'Drew Wilson', wau: '200M', health: 'healthy' },
      { name: 'Security & Trust Agent', desc: 'Security', type: 'Foundational', owner: 'Jamie Anderson', wau: '200M', health: 'healthy' },
      { name: 'CacheManager', desc: 'Distributed cache optimization', type: 'Sub-Agent', owner: 'Taylor Thomas', wau: '200M', health: 'healthy' },
      { name: 'ConfigBot', desc: 'Configuration management', type: 'Foundational', owner: 'Cameron Jackson', wau: '156M', health: 'healthy' },
      { name: 'LoadBalancer', desc: 'Traffic distribution', type: 'Sub-Agent', owner: 'Taylor Thomas', wau: '312M', health: 'healthy' },
      { name: 'HealthCheck', desc: 'Service health monitoring', type: 'Sub-Agent', owner: 'Cameron Jackson', wau: '89M', health: 'healthy' },
      { name: 'BackupAgent', desc: 'Automated backup and recovery', type: 'Foundational', owner: 'Jordan Lee', wau: '445M', health: 'healthy' },
      { name: 'ScaleBot', desc: 'Auto-scaling management', type: 'Sub-Agent', owner: 'Alex Rivera', wau: '278M', health: 'warning' },
      { name: 'APIGuard', desc: 'API gateway monitoring', type: 'Foundational', owner: 'Morgan Davis', wau: '567M', health: 'healthy' },
      { name: 'QueueManager', desc: 'Message queue optimization', type: 'Sub-Agent', owner: 'Casey White', wau: '123M', health: 'healthy' },
      { name: 'CostOptimizer', desc: 'Cloud cost analysis', type: 'Foundational', owner: 'Riley Brown', wau: '890M', health: 'healthy' },
      { name: 'MigrationBot', desc: 'Database migration assistant', type: 'Sub-Agent', owner: 'Quinn Garcia', wau: '45M', health: 'critical' },
      { name: 'ComplianceCheck', desc: 'Regulatory compliance', type: 'Foundational', owner: 'Avery Martinez', wau: '234M', health: 'healthy' },
      { name: 'IncidentBot', desc: 'Incident response automation', type: 'Sub-Agent', owner: 'Drew Wilson', wau: '678M', health: 'healthy' },
      { name: 'CapacityPlanner', desc: 'Resource capacity forecasting', type: 'Foundational', owner: 'Jamie Anderson', wau: '345M', health: 'healthy' },
      { name: 'NetworkMonitor', desc: 'Network traffic analysis', type: 'Sub-Agent', owner: 'Taylor Thomas', wau: '789M', health: 'warning' },
      { name: 'StorageBot', desc: 'Storage optimization agent', type: 'Sub-Agent', owner: 'Cameron Jackson', wau: '234M', health: 'healthy' },
      { name: 'AccessControl', desc: 'Identity and access management', type: 'Foundational', owner: 'Sarah Chen', wau: '567M', health: 'healthy' },
      { name: 'AuditLogger', desc: 'Audit trail management', type: 'Sub-Agent', owner: 'Mike Johnson', wau: '890M', health: 'healthy' },
      { name: 'VersionControl', desc: 'Code version management', type: 'Foundational', owner: 'Emily Zhang', wau: '123M', health: 'healthy' },
      { name: 'DependencyBot', desc: 'Dependency analysis', type: 'Sub-Agent', owner: 'Chris Park', wau: '456M', health: 'healthy' },
      { name: 'DocGenerator', desc: 'Automated documentation', type: 'Sub-Agent', owner: 'Jordan Lee', wau: '789M', health: 'healthy' },
      { name: 'ReviewBot', desc: 'Code review automation', type: 'Foundational', owner: 'Sam Taylor', wau: '234M', health: 'healthy' },
      { name: 'BuildOptimizer', desc: 'Build process optimization', type: 'Sub-Agent', owner: 'Morgan Davis', wau: '567M', health: 'warning' },
      { name: 'ReleaseManager', desc: 'Release coordination', type: 'Foundational', owner: 'Casey White', wau: '890M', health: 'healthy' },
      { name: 'FeatureFlag', desc: 'Feature flag management', type: 'Sub-Agent', owner: 'Riley Brown', wau: '123M', health: 'healthy' },
      { name: 'RollbackBot', desc: 'Automated rollback detection', type: 'Sub-Agent', owner: 'Quinn Garcia', wau: '456M', health: 'healthy' },
      { name: 'PerformanceBot', desc: 'Performance profiling', type: 'Foundational', owner: 'Avery Martinez', wau: '789M', health: 'healthy' },
      { name: 'MemoryGuard', desc: 'Memory usage optimization', type: 'Sub-Agent', owner: 'Drew Wilson', wau: '234M', health: 'healthy' },
      { name: 'ThreadAnalyzer', desc: 'Thread safety analysis', type: 'Sub-Agent', owner: 'Jamie Anderson', wau: '567M', health: 'healthy' },
      { name: 'CPUOptimizer', desc: 'CPU utilization optimization', type: 'Foundational', owner: 'Taylor Thomas', wau: '890M', health: 'healthy' },
      { name: 'IOMonitor', desc: 'I/O performance tracking', type: 'Sub-Agent', owner: 'Cameron Jackson', wau: '123M', health: 'healthy' },
      { name: 'LatencyTracker', desc: 'End-to-end latency monitoring', type: 'Sub-Agent', owner: 'Sarah Chen', wau: '456M', health: 'warning' },
      { name: 'ErrorHandler', desc: 'Intelligent error handling', type: 'Foundational', owner: 'Mike Johnson', wau: '789M', health: 'healthy' },
      { name: 'RetryBot', desc: 'Smart retry logic automation', type: 'Sub-Agent', owner: 'Emily Zhang', wau: '234M', health: 'healthy' },
      { name: 'CircuitBreaker', desc: 'Circuit breaker manager', type: 'Sub-Agent', owner: 'Chris Park', wau: '567M', health: 'healthy' },
      { name: 'TimeoutManager', desc: 'Timeout configuration', type: 'Foundational', owner: 'Jordan Lee', wau: '890M', health: 'healthy' },
      { name: 'RateLimiter', desc: 'Rate limiting management', type: 'Sub-Agent', owner: 'Sam Taylor', wau: '345M', health: 'healthy' }
    ];

    // Avatar colors
    const avatarColors = ['#1877F2', '#42B72A', '#F02849', '#9C27B0', '#FF9800', '#00BCD4', '#795548', '#607D8B'];

    function getAvatarColor(name) {
      let hash = 0;
      for (let i = 0; i < name.length; i++) {
        hash = name.charCodeAt(i) + ((hash << 5) - hash);
      }
      return avatarColors[Math.abs(hash) % avatarColors.length];
    }

    function getInitials(name) {
      return name.split(' ').map(n => n[0]).join('').toUpperCase();
    }

    function generateAgentRow(agent, index) {
      const avatarColor = getAvatarColor(agent.owner);
      const initials = getInitials(agent.owner);
      const healthLabel = agent.health === 'healthy' ? 'Healthy' : agent.health === 'warning' ? 'Warning' : 'Critical';
      
      return `
        <tr onclick="window.location.href='agent-detail.html?agent=${encodeURIComponent(agent.name)}'">
          <td>
            <div class="agent-name-cell">
              <div class="agent-type-icon ${agent.type === 'Foundational' ? 'foundational' : 'sub-agent'}">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="m13.45 15.11-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0l-1.52 3.04-3.04 1.52a1 1 0 0 0-.55.89c0 .37.21.73.55.89l3.04 1.52 1.52 3.04a1 1 0 0 0 .89.55c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52a1 1 0 0 0 .55-.89c0-.37-.21-.73-.55-.89zm-4.23 1.66c-.19.1-.35.25-.45.45L8 18.76l-.77-1.54c-.1-.19-.25-.35-.45-.45L5.24 16l1.54-.77c.19-.1.35-.25.45-.45L8 13.24l.77 1.54c.1.19.25.35.45.45l1.54.77zM8 5.5C8 7.43 9.57 9 11.5 9S15 7.43 15 5.5 13.43 2 11.5 2 8 3.57 8 5.5m5 0c0 .83-.67 1.5-1.5 1.5S10 6.33 10 5.5 10.67 4 11.5 4s1.5.67 1.5 1.5m7.22 2.55a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66zm-3.28 3.83 1.84-1.72.74 2.41z"/></svg>
              </div>
              <div class="agent-name-info">
                <h4>${agent.name}</h4>
                <span>${agent.desc}</span>
              </div>
            </div>
          </td>
          <td><span class="type-badge">${agent.type}</span></td>
          <td>
            <div class="owner-cell">
              <div class="owner-avatar" style="background: ${avatarColor}">${initials}</div>
              <p>${agent.owner}</p>
            </div>
          </td>
          <td><span class="wau-value">${agent.wau}</span></td>
          <td><span class="health-badge ${agent.health}">${healthLabel}</span></td>
          <td>
            <div class="action-btns" onclick="event.stopPropagation();">
              <a href="agent-detail.html?agent=${encodeURIComponent(agent.name)}" class="action-icon-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></a>
              <button class="action-icon-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg></button>
              <button class="action-icon-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button>
            </div>
          </td>
        </tr>
      `;
    }

    // Render table
    function renderTable() {
      const tbody = document.getElementById('agentsTableBody');
      tbody.innerHTML = agentsData.map((agent, i) => generateAgentRow(agent, i)).join('');
      document.getElementById('resultsCount').textContent = `${agentsData.length} results`;
    }

    // Search functionality
    const searchInput = document.getElementById('searchInput');
    const searchPopover = document.getElementById('searchPopover');
    const searchClearBtn = document.getElementById('searchClearBtn');
    const defaultContent = document.getElementById('defaultPopoverContent');
    const autocompleteResults = document.getElementById('autocompleteResults');
    const autocompleteList = document.getElementById('autocompleteList');

    const searchItems = [
      { name: 'Facebook Ads Manager', category: 'app' },
      { name: 'Facebook Business Suite', category: 'product' },
      { name: 'Facebook Login Integration', category: 'endpoint' },
      { name: 'Instagram Feed API', category: 'GraphQL query' },
      { name: 'Instagram Stories', category: 'comet route' },
      { name: 'Instagram Shopping', category: 'product' }
    ];

    searchInput.addEventListener('focus', () => {
      searchPopover.classList.add('visible');
    });

    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      searchClearBtn.classList.toggle('visible', query.length > 0);
      
      if (query.length > 0) {
        const filtered = searchItems.filter(item => item.name.toLowerCase().includes(query));
        if (filtered.length > 0) {
          autocompleteList.innerHTML = filtered.map(item => {
            const highlighted = item.name.replace(new RegExp(`(${query})`, 'gi'), '<span class="highlight">$1</span>');
            return `<div class="autocomplete-item"><div><div style="font-weight: 500;">${highlighted}</div><div style="font-size: 12px; color: var(--text-muted);">${item.category}</div></div></div>`;
          }).join('');
          defaultContent.style.display = 'none';
          autocompleteResults.style.display = 'block';
        } else {
          autocompleteList.innerHTML = '<div class="no-results">No results found</div>';
          defaultContent.style.display = 'none';
          autocompleteResults.style.display = 'block';
        }
      } else {
        defaultContent.style.display = 'block';
        autocompleteResults.style.display = 'none';
      }
    });

    searchClearBtn.addEventListener('click', () => {
      searchInput.value = '';
      searchClearBtn.classList.remove('visible');
      defaultContent.style.display = 'block';
      autocompleteResults.style.display = 'none';
      searchInput.focus();
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.search-box')) {
        searchPopover.classList.remove('visible');
      }
    });

    // Accordion functionality
    document.querySelectorAll('.accordion-trigger').forEach(trigger => {
      trigger.addEventListener('click', () => {
        trigger.classList.toggle('expanded');
        const content = trigger.nextElementSibling;
        content.classList.toggle('open');
      });
    });

    // Initialize
    renderTable();
  </script>
</body>
</html>

