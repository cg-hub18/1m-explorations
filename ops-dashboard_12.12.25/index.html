<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OneMonitoring - Ops Dashboard</title>
  <!-- Preload critical assets -->
  <link rel="preload" href="images/icons.svg" as="image" type="image/svg+xml">
  <link rel="preload" href="images/1Micon.png" as="image">
  <link rel="preload" href="images/plus_Outline_24.svg" as="image">
  <link rel="preload" href="images/house_Outline_24.svg" as="image">
  <link rel="preload" href="images/house_Filled_24.svg" as="image">
  <link rel="preload" href="images/star-circle-triangle-ai_Outline_24.svg" as="image">
  <link rel="preload" href="images/circle-handle-stardust_Outline_24.svg" as="image">
  <!-- Opsmate Panel Component -->
  <link rel="stylesheet" href="components/opsmate-panel.css">
  <style>
    /* Font Faces */
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display');
      font-weight: 400;
    }
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display Medium');
      font-weight: 500;
    }
    @font-face {
      font-family: 'Optimistic';
      src: local('Optimistic Display Bold');
      font-weight: 700;
    }

    :root {
      --font-header: 'Optimistic', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --font-body: 'SF Pro', 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      --sidebar-width: 260px;
      --text-dark: #1c1e21;
      --text-muted: #65676b;
      --border-color: #e5e7eb;
      --bg-white: #ffffff;
      --bg-gray: #F1F4F7;
      --bg-sidebar: #ffffff;
      --icon-color: #65676B;
      --badge-color: #5D6C7B;
      --primary-blue: #0052CC;
      /* New sidebar variables */
      --sidebar-bg: #ffffff;
      --text-primary: #111827;
      --text-secondary: #4b5563;
      --hover-bg: #f3f4f6;
      --active-bg: rgba(59, 130, 246, 0.1);
      --active-color: #3b82f6;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-body);
      font-size: 14px;
      color: var(--text-dark);
      background: var(--bg-gray);
    }

    h1 {
      font-family: var(--font-header);
      font-size: 20px;
      font-weight: 700;
      color: var(--text-dark);
    }

    /* Layout */
    .app-container {
      display: flex;
      min-height: 100vh;
    }

    /* NEW SIDEBAR STYLES */
    .sidebar-new {
      width: var(--sidebar-width);
      height: 100vh;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      padding: 16px;
      position: fixed;
      left: 0;
      top: 0;
      overflow-y: auto;
    }

    .sidebar-new-header {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-color);
    }

    .sidebar-new-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: inherit;
    }

    .sidebar-new-logo svg {
      flex-shrink: 0;
    }

    .sidebar-new-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .sidebar-new-create {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      padding: 10px 16px;
      background: linear-gradient(135deg, #222AEC 0%, #3C7CF1 100%);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
      margin-bottom: 12px;
    }

    .sidebar-new-create:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(34, 42, 236, 0.3);
    }

    .sidebar-new-create svg {
      width: 16px;
      height: 16px;
    }

    .sidebar-new-search {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: #f5f5f5;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      margin-bottom: 16px;
    }

    .sidebar-new-search svg {
      width: 16px;
      height: 16px;
      color: var(--text-muted);
      flex-shrink: 0;
    }

    .sidebar-new-search input {
      flex: 1;
      border: none;
      background: transparent;
      font-size: 14px;
      color: var(--text-primary);
      outline: none;
    }

    .sidebar-new-search input::placeholder {
      color: var(--text-muted);
    }

    .sidebar-new-section {
      margin-bottom: 8px;
    }

    .sidebar-new-section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      padding: 8px 12px;
      background: transparent;
      border: none;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-secondary);
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.15s ease;
    }

    .sidebar-new-section-header:hover {
      background: var(--hover-bg);
    }

    .sidebar-new-section-header svg {
      width: 16px;
      height: 16px;
    }

    .sidebar-new-nav {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .sidebar-new-nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 8px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      font-weight: 450;
      transition: all 0.15s ease;
    }

    .sidebar-new-nav-item:hover {
      background: var(--hover-bg);
      color: var(--text-primary);
    }

    .sidebar-new-nav-item.active {
      background: var(--active-bg);
      color: var(--active-color);
    }

    .sidebar-new-nav-item svg {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    .sidebar-new-nav-item .chevron {
      width: 16px;
      height: 16px;
      margin-left: auto;
      color: var(--text-muted);
    }

    .sidebar-new-divider {
      height: 1px;
      background: var(--border-color);
      margin: 12px 0;
    }

    .sidebar-new-nav.expandable .sidebar-new-nav-item span {
      flex: 1;
    }

    /* OLD SIDEBAR STYLES (hidden) */
    .sidebar-old {
      display: none;
    }

    .search-clear-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Search Popover */
    .search-popover {
      position: absolute;
      top: calc(100% + 4px);
      left: 0;
      right: 0;
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      display: none;
      max-height: 400px;
      overflow-y: auto;
    }

    .search-popover.visible {
      display: block;
    }

    .popover-section {
      padding: 4px;
    }

    .popover-link {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      color: var(--text-dark);
      text-decoration: none;
      border-radius: 6px;
      font-size: 13px;
      transition: background 0.15s;
    }

    .popover-link:hover {
      background: var(--bg-gray);
    }

    .popover-link span {
      flex: 1;
    }

    .popover-icon {
      width: 16px;
      height: 16px;
      color: #65676B;
      filter: brightness(0) saturate(100%) invert(42%) sepia(9%) saturate(412%) hue-rotate(169deg) brightness(94%) contrast(89%);
    }

    .popover-icon-svg {
      width: 16px;
      height: 16px;
      color: #65676B;
    }

    .external-icon {
      width: 12px;
      height: 12px;
      color: var(--text-muted);
      opacity: 0;
      transition: opacity 0.15s;
    }

    .popover-link:hover .external-icon {
      opacity: 1;
    }

    .popover-divider {
      height: 1px;
      background: var(--border-color);
      margin: 8px 12px;
    }

    .popover-label {
      font-size: 10px;
      color: var(--text-muted);
      padding: 6px 10px 4px;
    }

    .autocomplete-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      cursor: pointer;
      border-radius: 6px;
      margin: 2px 8px;
    }

    .autocomplete-item:hover {
      background: var(--bg-gray);
    }

    .autocomplete-item .highlight {
      background: #FFF3CD;
      padding: 0 2px;
      border-radius: 2px;
    }

    .no-results {
      padding: 16px;
      text-align: center;
      color: var(--text-muted);
      font-size: 13px;
    }

    /* Navigation */
    .nav-section {
      padding: 8px 12px;
      flex: 1;
      font-family: var(--font-body);
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      color: var(--text-dark);
      text-decoration: none;
      border-radius: 6px;
      font-size: 13px;
      font-family: var(--font-body);
      transition: background 0.15s;
      position: relative;
    }

    .nav-item:hover {
      background: var(--bg-gray);
    }

    .nav-item.active {
      background: var(--bg-gray);
      font-weight: 500;
    }

    .nav-icon {
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: background 0.15s;
      color: #65676B;
    }

    .nav-item:hover .nav-icon {
      background: #E4E6E9;
    }

    .nav-icon img {
      width: 16px;
      height: 16px;
      filter: brightness(0) saturate(100%) invert(42%) sepia(9%) saturate(412%) hue-rotate(169deg) brightness(94%) contrast(89%);
    }

    .nav-icon .icon {
      width: 16px;
      height: 16px;
    }

    .nav-icon .icon-outline {
      display: block;
    }

    .nav-icon .icon-filled {
      display: none;
    }

    .nav-item:hover .nav-icon .icon-outline,
    .nav-item.active .nav-icon .icon-outline {
      display: none;
    }

    .nav-item:hover .nav-icon .icon-filled,
    .nav-item.active .nav-icon .icon-filled {
      display: block;
    }

    /* Accordion */
    .nav-accordion {
      margin-bottom: 4px;
    }

    .accordion-trigger {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      width: 100%;
      background: none;
      border: none;
      color: var(--text-dark);
      font-size: 13px;
      font-family: var(--font-body);
      text-align: left;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.15s;
    }

    .accordion-trigger.primary {
      font-weight: 500;
    }

    .accordion-trigger:hover {
      background: var(--bg-gray);
    }

    .accordion-trigger .chevron {
      margin-left: auto;
      width: 14px;
      height: 14px;
      color: var(--text-muted);
      transition: transform 0.2s;
    }

    .accordion-trigger.expanded .chevron {
      transform: rotate(90deg);
    }

    .accordion-content {
      display: none;
      padding-left: 0;
    }

    .accordion-content.open {
      display: block;
    }

    .accordion-content .nav-item {
      padding-left: 10px;
    }

    .nav-divider {
      height: 1px;
      background: var(--border-color);
      margin: 8px 12px;
    }

    /* Count Badge */
    .count-badge {
      background: var(--badge-color);
      color: white;
      font-size: 11px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 10px;
      margin-left: auto;
    }

    /* Main Content */
    .main-content {
      margin-left: var(--sidebar-width);
      flex: 1;
      display: flex;
      flex-direction: column;
      background: var(--bg-gray);
      transition: margin-right 0.3s ease;
    }

    .main-content.panel-open {
      margin-right: 420px;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 24px;
      background: var(--bg-white);
      border-bottom: 1px solid var(--border-color);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 20px;
      font-weight: 600;
    }

    .header-left svg {
      width: 18px;
      height: 18px;
      color: var(--text-muted);
    }

    .settings-btn {
      padding: 8px;
      border: none;
      background: transparent;
      border-radius: 8px;
      cursor: pointer;
      color: var(--text-muted);
      transition: background 0.15s;
    }

    .settings-btn:hover {
      background: var(--bg-gray);
    }

    .content-area {
      flex: 1;
      overflow-y: auto;
      background: var(--bg-gray);
    }

    /* Page Views */
    .page-view {
      display: none;
    }

    .page-view.active {
      display: block;
    }

    /* Page Layout with Header */
    .page-with-header {
      display: flex;
      flex-direction: column;
      height: 100%;
      min-height: calc(100vh - 56px);
      position: relative;
    }

    .page-header-bar {
      background: var(--bg-white);
      border-bottom: 1px solid var(--border-color);
      padding: 16px 24px;
      flex-shrink: 0;
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .page-header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .page-header-title {
      display: flex;
      align-items: baseline;
      gap: 12px;
    }

    .page-header-title h1 {
      font-size: 20px;
      font-weight: 600;
      font-family: var(--font-header);
      color: var(--text-dark);
      margin: 0;
    }

    .results-count-text {
      font-size: 13px;
      color: var(--text-muted);
      font-weight: 400;
    }

    .page-header-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .header-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      border: none;
    }

    .header-btn svg {
      width: 16px;
      height: 16px;
    }

    .header-btn-secondary {
      background: var(--bg-gray);
      color: var(--text-dark);
      border: 1px solid var(--border-color);
    }

    .header-btn-secondary:hover {
      background: #E4E6E9;
    }

    .header-btn-primary {
      background: var(--primary-blue);
      color: white;
    }

    .header-btn-primary:hover {
      background: #0047B3;
    }

    /* Filter Pills */
    .filter-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .filter-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      background: var(--bg-gray);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      font-size: 13px;
      color: var(--text-dark);
      cursor: pointer;
      transition: all 0.15s;
    }

    .filter-pill:hover {
      background: #E4E6E9;
    }

    .filter-pill.active {
      background: var(--primary-blue);
      color: white;
      border-color: var(--primary-blue);
    }

    .filter-pill-clear {
      color: var(--primary-blue);
      font-size: 13px;
      cursor: pointer;
      padding: 4px 8px;
    }

    .filter-pill-clear:hover {
      text-decoration: underline;
    }

    /* Gray Content Area */
    .page-content-area {
      flex: 1;
      background: var(--bg-gray);
      padding: 16px 24px;
      overflow-y: auto;
    }

    .page-content-inner {
      max-width: 100%;
    }

    /* Home Page Content */
    .content-inner {
      max-width: 900px;
      margin: 0 auto;
      padding: 24px;
      background: var(--bg-gray);
    }

    /* Cards */
    .card {
      background: var(--bg-white);
      border-radius: 8px;
      border: 1px solid var(--border-color);
      margin-bottom: 16px;
    }

    .card-body {
      padding: 24px;
    }

    .card-header {
      display: flex;
      gap: 16px;
    }

    .card-header-icon {
      width: 32px;
      height: 32px;
      flex-shrink: 0;
    }

    .card-header-icon svg {
      width: 32px;
      height: 32px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      font-family: var(--font-header);
      color: var(--text-dark);
      margin-bottom: 8px;
    }

    .summary-list {
      list-style: none;
      font-size: 14px;
      color: var(--text-dark);
    }

    .summary-list li {
      margin-bottom: 6px;
      line-height: 1.5;
    }

    .summary-list a {
      color: var(--primary-blue);
      text-decoration: none;
    }

    .summary-list a:hover {
      text-decoration: underline;
    }

    /* Chat Input */
    .chat-input-container {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 16px;
      padding: 12px 16px;
      background: var(--bg-gray);
      border-radius: 24px;
    }

    .chat-input-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .chat-input {
      flex: 1;
      border: none;
      background: transparent;
      font-size: 14px;
      outline: none;
      font-family: inherit;
    }

    .chat-send-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: none;
      background: var(--primary-blue);
      color: white;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Quick Actions */
    .quick-actions {
      display: flex;
      gap: 8px;
      margin-top: 16px;
    }

    .quick-action-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: #F0F2F5;
      border: none;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-dark);
      cursor: pointer;
      transition: background 0.15s;
    }

    .quick-action-btn:hover {
      background: #E4E6EB;
    }

    .quick-action-btn .btn-icon {
      width: 14px;
      height: 14px;
      filter: brightness(0) saturate(100%) invert(42%) sepia(9%) saturate(412%) hue-rotate(169deg) brightness(94%) contrast(89%);
    }

    /* Tabs */
    .tabs {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-bottom: 16px;
    }

    .tab {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: transparent;
      border: none;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-muted);
      cursor: pointer;
      border-radius: 20px;
      transition: all 0.15s;
    }

    .tab:hover {
      background: #F0F2F5;
      color: var(--text-dark);
    }

    .tab.active {
      background: #E3F0FF;
      color: #0064E0;
    }

    .tab.active .tab-count {
      background: #0064E0;
      color: white;
    }

    .tab-count {
      background: #E4E6EB;
      color: var(--text-dark);
      font-size: 11px;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 10px;
      min-width: 20px;
      text-align: center;
    }

    .tabs-clear {
      color: var(--primary-blue);
      font-size: 13px;
      text-decoration: none;
      margin-left: 8px;
    }

    .tabs-clear:hover {
      text-decoration: underline;
    }

    /* Tables */
    .table-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 16px 24px;
      border-bottom: 1px solid var(--border-color);
    }

    .table-card-title {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      font-family: var(--font-header);
      font-weight: 600;
    }

    .table-card-title .count-badge {
      background: #E4E6EB;
      color: var(--text-dark);
      font-size: 12px;
      font-weight: 500;
      min-width: 20px;
      height: 20px;
      padding: 0 6px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
    }

    .title-info {
      font-size: 13px;
      font-weight: 400;
      color: var(--text-muted);
      font-family: var(--font-body);
    }

    .see-all-link {
      color: var(--primary-blue);
      font-size: 13px;
      text-decoration: none;
    }

    .see-all-link:hover {
      text-decoration: underline;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }

    .data-table th {
      text-align: left;
      padding: 12px 16px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      background: var(--bg-gray);
      border-bottom: 1px solid var(--border-color);
      text-transform: uppercase;
    }

    .data-table td {
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-color);
      font-size: 14px;
    }

    .data-table tr:hover {
      background: var(--bg-gray);
    }

    .alert-cell {
      display: flex;
      gap: 12px;
    }

    .alert-indicator {
      width: 4px;
      background: #FF5630;
      border-radius: 2px;
      flex-shrink: 0;
    }

    .alert-category {
      font-size: 12px;
      color: var(--text-muted);
      display: block;
      margin-bottom: 2px;
    }

    .alert-name {
      font-size: 14px;
      color: var(--text-dark);
    }

    .sev-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 8px;
      background: #FFEBE6;
      color: #FF5630;
      font-size: 12px;
      font-weight: 600;
      border-radius: 4px;
    }

    .sev-badge.sev4 {
      background: #E8F5E9;
      color: #31A24C;
    }

    .priority-pill {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .priority-pill.high {
      background: #FFEBE6;
      color: #FF5630;
    }

    .priority-pill.medium {
      background: #FFF8E6;
      color: #FFAB00;
    }

    .action-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--primary-blue);
      text-decoration: none;
      font-size: 13px;
    }

    .action-link:hover {
      text-decoration: underline;
    }

    .action-link svg {
      width: 14px;
      height: 14px;
    }

    .action-link .action-icon {
      width: 16px;
      height: 16px;
      filter: invert(31%) sepia(98%) saturate(1695%) hue-rotate(202deg) brightness(101%) contrast(101%);
    }

    /* Agents Table */
    .agents-table-card {
      background: var(--bg-white);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .agents-table {
      width: 100%;
      border-collapse: collapse;
    }

    .agents-table th {
      text-align: left;
      padding: 12px 16px;
      font-size: 11px;
      font-weight: 600;
      color: var(--text-muted);
      background: var(--bg-gray);
      border-bottom: 1px solid var(--border-color);
      text-transform: uppercase;
    }

    .agents-table td {
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-color);
      font-size: 14px;
    }

    /* Clickable agent row */
    .agent-row {
      cursor: pointer;
      transition: background 0.15s ease;
    }

    .agent-row:hover {
      background: #F4F5F7 !important;
    }

    .agent-row:hover .agent-name-info h4 {
      color: #0052CC;
    }

    .agent-name-cell {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .agent-type-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .agent-type-icon.foundational {
      background: #E3F2FD;
      color: var(--primary-blue);
    }

    .agent-type-icon.sub-agent {
      background: #F3E5F5;
      color: #9C27B0;
    }

    .agent-type-icon svg {
      width: 18px;
      height: 18px;
    }

    .agent-name-info h4 {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-dark);
      margin-bottom: 2px;
    }

    .agent-name-info span {
      font-size: 12px;
      color: var(--text-muted);
    }

    .type-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }

    .type-badge.foundational {
      background: #E3F2FD;
      color: var(--primary-blue);
    }

    .type-badge.sub-agent {
      background: #F3E5F5;
      color: #9C27B0;
    }

    .owner-cell {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .owner-avatar {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 11px;
      font-weight: 600;
      flex-shrink: 0;
    }

    .owner-cell p {
      font-size: 14px;
      color: var(--text-dark);
      margin: 0;
    }

    .wau-value {
      font-size: 14px;
      color: var(--text-dark);
      font-weight: 500;
    }

    .health-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .health-badge.healthy {
      background: #E6F6ED;
      color: #36B37E;
    }

    .health-badge.warning {
      background: #FFF8E6;
      color: #FFAB00;
    }

    .health-badge.critical {
      background: #FFEBE6;
      color: #FF5630;
    }

    .health-badge::before {
      content: '';
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
    }

    .action-btns {
      display: flex;
      gap: 4px;
    }

    .action-icon-btn {
      width: 32px;
      height: 32px;
      border: none;
      background: transparent;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
      transition: all 0.15s;
    }

    .action-icon-btn:hover {
      background: var(--bg-gray);
      color: var(--text-dark);
    }

    .action-icon-btn svg {
      width: 16px;
      height: 16px;
    }

    /* Agent Detail Page */
    .detail-breadcrumb {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      margin-bottom: 16px;
    }

    .detail-breadcrumb a {
      color: #0052CC;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .detail-breadcrumb a:hover {
      text-decoration: underline;
    }

    .detail-breadcrumb .separator {
      color: #97A0AF;
    }

    .detail-breadcrumb .current {
      color: #42526E;
    }

    /* KPI Cards Grid */
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 24px;
    }

    .kpi-card {
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 4px rgba(23, 43, 77, 0.04);
      transition: box-shadow 0.2s;
    }

    .kpi-card:hover {
      box-shadow: 0 4px 8px rgba(23, 43, 77, 0.08);
    }

    .kpi-card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .kpi-card-label {
      font-size: 13px;
      color: #97A0AF;
    }

    .kpi-card-value {
      font-size: 32px;
      font-weight: 600;
      color: var(--text-dark);
      margin-bottom: 4px;
    }

    .kpi-card-trend {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 13px;
    }

    .kpi-card-trend.positive {
      color: #36B37E;
    }

    .kpi-card-trend.negative {
      color: #FF5630;
    }

    .kpi-card-trend svg {
      width: 14px;
      height: 14px;
    }

    .kpi-card-subtitle {
      font-size: 12px;
      color: #97A0AF;
      margin-top: 4px;
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }
    /* Inline SVG icons */
    .icon {
      width: 16px;
      height: 16px;
      display: inline-block;
      vertical-align: middle;
      fill: currentColor;
    }
    .icon-20 { width: 20px; height: 20px; }
    .icon-24 { width: 24px; height: 24px; }
    .icon-32 { width: 32px; height: 32px; }

    /* ========================================
       ASK OPSMATE BUTTON & CHAT PANEL STYLES
       ======================================== */
    
    /* Header Right Section */
    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Ask Opsmate Button */
    .ask-opsmate-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: linear-gradient(135deg, #222AEC 0%, #3C7CF1 100%);
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .ask-opsmate-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(34, 42, 236, 0.3);
    }

    .ask-opsmate-btn svg {
      width: 18px;
      height: 18px;
    }

  </style>
</head>
<body>
  <!-- Inline SVG Sprite for instant icon loading -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-house-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M14.39 3.87a3.507 3.507 0 0 0-4.79 0L4.26 8.88C3.46 9.63 3 10.7 3 11.8v6.5c0 1.18.82 2.21 1.96 2.45.91.19 1.86.35 2.81.47.08.01.16.02.24.02.48 0 .95-.17 1.31-.5.43-.38.68-.93.68-1.51V16c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v3.23c0 .58.25 1.12.68 1.51.43.38.99.55 1.56.48.95-.12 1.9-.28 2.81-.47 1.13-.24 1.96-1.27 1.96-2.45v-6.5c0-1.1-.46-2.17-1.26-2.92l-5.34-5.01zM19 18.3c0 .24-.16.45-.38.49-.86.18-1.74.33-2.62.44V16c0-1.65-1.35-3-3-3h-2c-1.65 0-3 1.35-3 3v3.24c-.88-.11-1.77-.26-2.63-.45A.49.49 0 0 1 5 18.3v-6.5c0-.55.23-1.08.63-1.46l5.34-5.01c.29-.27.66-.4 1.03-.4s.74.13 1.03.4l5.34 5.01c.4.38.63.91.63 1.46z"/>
    </symbol>
    <symbol id="icon-house-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M14.39 3.87a3.507 3.507 0 0 0-4.79 0L4.26 8.88C3.46 9.63 3 10.7 3 11.8v6.5c0 1.18.82 2.21 1.96 2.45.91.19 1.86.35 2.81.47.08.01.16.02.24.02.48 0 .95-.17 1.31-.5.43-.38.68-.93.68-1.51V16c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v3.23c0 .58.25 1.12.68 1.51.43.38.99.55 1.56.48.95-.12 1.9-.28 2.81-.47 1.13-.24 1.96-1.27 1.96-2.45v-6.5c0-1.1-.46-2.17-1.26-2.92l-5.34-5.01z"/>
    </symbol>
    <symbol id="icon-plus" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 20c.55 0 1-.45 1-1v-6h6c.55 0 1-.45 1-1s-.45-1-1-1h-6V5c0-.55-.45-1-1-1s-1 .45-1 1v6H5c-.55 0-1 .45-1 1s.45 1 1 1h6v6c0 .55.45 1 1 1"/>
    </symbol>
    <symbol id="icon-star-ai-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="m13.45 15.11-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0l-1.52 3.04-3.04 1.52a1 1 0 0 0-.55.89c0 .37.21.73.55.89l3.04 1.52 1.52 3.04a1 1 0 0 0 .89.55c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52a1 1 0 0 0 .55-.89c0-.37-.21-.73-.55-.89zm-4.23 1.66c-.19.1-.35.25-.45.45L8 18.76l-.77-1.54c-.1-.19-.25-.35-.45-.45L5.24 16l1.54-.77c.19-.1.35-.25.45-.45L8 13.24l.77 1.54c.1.19.25.35.45.45l1.54.77zM8 5.5C8 7.43 9.57 9 11.5 9S15 7.43 15 5.5 13.43 2 11.5 2 8 3.57 8 5.5m5 0c0 .83-.67 1.5-1.5 1.5S10 6.33 10 5.5 10.67 4 11.5 4s1.5.67 1.5 1.5m7.22 2.55a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66zm-3.28 3.83 1.84-1.72.74 2.41z"/>
    </symbol>
    <symbol id="icon-star-ai-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="m7.11 10.55-1.52 3.04-3.04 1.52A1 1 0 0 0 2 16c0 .37.21.73.55.89l3.04 1.52 1.52 3.04A1 1 0 0 0 8 22c.37 0 .73-.21.89-.55l1.52-3.04 3.04-1.52A1 1 0 0 0 14 16c0-.37-.21-.73-.55-.89l-3.04-1.52-1.52-3.04c-.34-.68-1.45-.68-1.79 0zM11.5 9a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m8.72-.95a1.008 1.008 0 0 0-1.64-.44l-4.33 4.04c-.27.25-.38.62-.29.97s.36.63.71.72l6.06 1.62c.09.02.17.03.26.03.27 0 .53-.11.72-.31.25-.26.34-.64.24-.99l-1.73-5.66z"/>
    </symbol>
    <symbol id="icon-circles-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"/><path fill="currentColor" d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4"/><path fill="currentColor" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/>
    </symbol>
    <symbol id="icon-circles-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"/><path fill="currentColor" d="M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4"/><path fill="currentColor" d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/>
    </symbol>
    <symbol id="icon-dots-lines-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M6.23 10.42c.5.36 1.11.58 1.77.58l.14-.01-1.37 4.59c-.5-.36-1.11-.58-1.77-.58l-.14.01 1.37-4.59zm8.48 2.88c-.62.3-1.12.8-1.42 1.42l-4-4c.62-.3 1.12-.8 1.42-1.42l4 4zm2.52-4.88c.5.36 1.11.58 1.77.58l.14-.01-1.37 4.59c-.5-.36-1.11-.58-1.77-.58l-.15.01 1.38-4.59zM5 15c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zM8 5c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1zm11-4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 2c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"/>
    </symbol>
    <symbol id="icon-dots-lines-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M19 3c1.66 0 3 1.34 3 3 0 1.61-1.27 2.92-2.86 3l-1.37 4.58c.75.55 1.24 1.43 1.24 2.43 0 1.66-1.34 3-3 3s-3-1.34-3-3c0-.46.11-.9.29-1.29l-4-4c-.4.18-.83.29-1.29.29l-.14-.01-1.37 4.58c.76.55 1.25 1.44 1.25 2.44 0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3l.15.01 1.46-4.88c-.56-.55-.96-1.28-1.12-2.1-.01-.01-.01-.02-.01-.03 0-1.66 1.34-3 3-3l.15.01c.58.03 1.11.22 1.56.52l4.14 4.14c.39-.17.82-.28 1.27-.29l.15.01 1.46-4.89c-.56-.54-.95-1.27-1.11-2.08 0-.01 0-.03-.01-.04 0-1.66 1.34-3 3-3z"/>
    </symbol>
    <symbol id="icon-target-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2c.55 0 1 .45 1 1v1.06c3.62.45 6.49 3.32 6.94 6.94H21c.55 0 1 .45 1 1s-.45 1-1 1h-1.06c-.45 3.62-3.32 6.49-6.94 6.94V21c0 .55-.45 1-1 1s-1-.45-1-1v-1.06c-3.62-.45-6.49-3.32-6.94-6.94H3c-.55 0-1-.45-1-1s.45-1 1-1h1.06c.45-3.62 3.32-6.49 6.94-6.94V3c0-.55.45-1 1-1zm1 5c0 .55-.45 1-1 1s-1-.45-1-1v-.92c-2.51.42-4.49 2.4-4.92 4.92H7c.55 0 1 .45 1 1s-.45 1-1 1h-.92c.43 2.51 2.41 4.49 4.92 4.92V17c0-.55.45-1 1-1s1 .45 1 1v.92c2.51-.43 4.49-2.41 4.92-4.92H17c-.55 0-1-.45-1-1s.45-1 1-1h.92c-.43-2.52-2.41-4.5-4.92-4.92V7z"/>
    </symbol>
    <symbol id="icon-target-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2c.55 0 1 .45 1 1v1.06c3.62.45 6.49 3.32 6.94 6.94H21c.55 0 1 .45 1 1s-.45 1-1 1h-1.06c-.45 3.62-3.32 6.49-6.94 6.94V21c0 .55-.45 1-1 1s-1-.45-1-1v-1.06c-3.62-.45-6.49-3.32-6.94-6.94H3c-.55 0-1-.45-1-1s.45-1 1-1h1.06c.45-3.62 3.32-6.49 6.94-6.94V3c0-.55.45-1 1-1zm1 5c0 .55-.45 1-1 1s-1-.45-1-1v-.92c-2.51.42-4.49 2.4-4.92 4.92H7c.55 0 1 .45 1 1s-.45 1-1 1h-.92c.43 2.51 2.41 4.49 4.92 4.92V17c0-.55.45-1 1-1s1 .45 1 1v.92c2.51-.43 4.49-2.41 4.92-4.92H17c-.55 0-1-.45-1-1s.45-1 1-1h.92c-.43-2.52-2.41-4.5-4.92-4.92V7z"/>
    </symbol>
    <symbol id="icon-shield-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 7.88a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2v-2a1 1 0 0 1 1-1"/><path fill="currentColor" d="M3.74 5.11a17.18 17.18 0 0 1 16.51 0c.46.25.74.73.74 1.26v3.88a12 12 0 0 1-6.23 10.52l-1.81.99a2 2 0 0 1-1.92 0l-1.81-.99A12 12 0 0 1 3 10.24V6.37c0-.52.29-1 .74-1.26M19 6.71a15.18 15.18 0 0 0-14 0v3.53a10 10 0 0 0 5.2 8.77l1.8.99 1.8-.99A10 10 0 0 0 19 10.24z"/>
    </symbol>
    <symbol id="icon-shield-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.74 5.11a17.18 17.18 0 0 1 16.51 0c.46.25.74.73.74 1.26v3.88a12 12 0 0 1-6.23 10.52l-1.81.99a2 2 0 0 1-1.92 0l-1.81-.99A12 12 0 0 1 3 10.24V6.37c0-.52.29-1 .74-1.26M12 7.88a1 1 0 0 0-1 1v2H9a1 1 0 1 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2h-2v-2a1 1 0 0 0-1-1"/>
    </symbol>
    <symbol id="icon-flame-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M10.71 21.92c.4.06.8.08 1.2.08 2.2 0 4.3-.85 5.79-2.38 2.13-2.18 3.23-6.73 1.31-10.28-.2-.36-.6-.57-1.01-.52a.99.99 0 0 0-.84.76c-.35 1.48-1.02 2.63-1.76 3-.06.03-.13.06-.19.08.48-2.64.68-7.81-4.22-10.53a1 1 0 0 0-1.04.04c-.31.2-.48.56-.45.94.17 1.71-1.09 3.29-2.42 4.96-1.96 2.46-4.41 5.53-2.27 9.83 1.17 2.19 3.32 3.65 5.89 4.02zM8.65 9.31c1.11-1.4 2.26-2.83 2.69-4.48 2.91 2.69 2.07 7.02 1.7 8.42-.13.48.11.98.56 1.17.91.4 1.84.38 2.7-.04.64-.32 1.21-.86 1.69-1.59.18 2.1-.55 4.25-1.71 5.44-1.32 1.35-3.29 1.99-5.28 1.71-1.94-.27-3.54-1.36-4.4-2.95-1.56-3.13.11-5.24 2.05-7.67z"/>
    </symbol>
    <symbol id="icon-flame-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M10.99 2.13a1 1 0 0 0-1.04.04c-.31.2-.48.56-.45.94.17 1.71-1.09 3.29-2.42 4.96-1.96 2.46-4.41 5.53-2.27 9.83 1.17 2.19 3.32 3.65 5.89 4.02.4.06.8.08 1.2.08 2.2 0 4.3-.85 5.79-2.38 2.13-2.18 3.23-6.73 1.31-10.28-.2-.36-.6-.57-1.01-.52a.99.99 0 0 0-.84.76c-.35 1.48-1.02 2.63-1.76 3-.06.03-.13.06-.19.08.48-2.64.68-7.81-4.22-10.53z"/>
    </symbol>
    <symbol id="icon-chart-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M20.25 4.96C20.01 3.83 18.98 3 17.81 3H6.2C5.03 3 4 3.82 3.76 4.96c-1 4.67-1 9.41 0 14.09.24 1.13 1.27 1.96 2.44 1.96h11.61c1.17 0 2.2-.82 2.44-1.96 1-4.67 1-9.41 0-14.09m-1.96 13.67c-.05.22-.25.37-.49.37H6.2c-.24 0-.44-.16-.49-.37-.94-4.4-.94-8.86 0-13.25.05-.22.25-.37.49-.37h11.61c.24 0 .44.16.49.37.94 4.4.94 8.86 0 13.25z"/><path fill="currentColor" d="m15.19 8.92-1.94 2.71-2.19-1.46a1 1 0 0 0-1.37.25l-2.5 3.5A1.007 1.007 0 0 0 8 15.51c.31 0 .62-.15.81-.42l1.94-2.71 2.19 1.46c.45.3 1.05.19 1.37-.25l2.5-3.5c.32-.45.22-1.07-.23-1.4-.45-.32-1.07-.22-1.4.23z"/>
    </symbol>
    <symbol id="icon-chart-filled" viewBox="0 0 24 24">
      <path fill="currentColor" d="M20.25 4.96C20.01 3.83 18.98 3 17.81 3H6.2C5.03 3 4 3.82 3.76 4.96c-1 4.67-1 9.41 0 14.09.24 1.13 1.27 1.96 2.44 1.96h11.61c1.17 0 2.2-.82 2.44-1.96 1-4.67 1-9.41 0-14.09m-3.44 5.12-2.5 3.5a1 1 0 0 1-1.37.25l-2.19-1.46-1.94 2.71c-.2.27-.5.42-.81.42a1.006 1.006 0 0 1-.81-1.59l2.5-3.5a1 1 0 0 1 1.37-.25l2.19 1.46 1.94-2.71c.32-.45.95-.55 1.4-.23s.55.95.23 1.4z"/>
    </symbol>
    <symbol id="icon-stardust-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M18 11l-.001-.055c.69.16 1.44-.02 1.98-.52.01.19.02.39.02.58 0 2.13-.74 4.08-1.97 5.62l2.68 2.68c.39.39.39 1.02 0 1.41-.39.39-1.02.39-1.41 0l-2.68-2.68c-1.54 1.23-3.49 1.97-5.62 1.97-4.97 0-9-4.03-9-9s4.03-9 9-9c1.55 0 3 .39 4.28 1.08l-.96.41c-.46.2-.81.52-1.03.9-.72-.25-1.49-.39-2.29-.39-3.87 0-7 3.13-7 7s3.13 7 7 7 7-3.13 7-7z"/><path fill="currentColor" d="M19 2.33c-.19-.44-.81-.44-1 0l-.71 1.66c-.05.13-.16.23-.28.29l-1.68.72c-.43.19-.44.8 0 .99l1.62.71c.12.05.22.15.27.27l.78 1.72c.2.43.81.42.99-.01l.73-1.7c.05-.12.16-.23.28-.28l1.67-.71c.44-.19.44-.8 0-.99l-1.67-.71c-.13-.06-.23-.16-.28-.29l-.71-1.66z"/>
    </symbol>
    <symbol id="icon-info-outline" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 10.28c.48 0 .88.39.88.87v4.98c0 .48-.39.87-.88.87-.48 0-.88-.39-.88-.87v-4.98c0-.48.39-.87.88-.87z"/><path fill="currentColor" d="M12 7c.83 0 1.25.4 1.25 1s-.42 1-1.25 1c-.83 0-1.25-.4-1.25-1s.42-1 1.25-1z"/><path fill="currentColor" d="M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8z"/>
    </symbol>
    <symbol id="icon-stardust-circle" viewBox="0 0 24 24">
      <path fill="currentColor" d="M12 2C17.52 2 22 6.48 22 12s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm.86 4.56c-.32-.75-1.38-.75-1.7 0l-1.23 2.85c-.09.22-.27.39-.49.48l-2.89 1.23c-.74.32-.75 1.38 0 1.7l2.77 1.22c.21.09.38.26.47.46l1.34 2.95c.33.73 1.38.72 1.7.02l1.25-2.91c.09-.22.27-.39.49-.49l2.86-1.22c.75-.32.75-1.38 0-1.7l-2.86-1.22c-.22-.09-.39-.27-.49-.49l-1.22-2.85z"/>
    </symbol>
    <symbol id="icon-search" viewBox="0 0 24 24">
      <circle cx="11" cy="11" r="8" fill="none" stroke="currentColor" stroke-width="2"/><path d="M21 21l-4.35-4.35" fill="none" stroke="currentColor" stroke-width="2"/>
    </symbol>
    <symbol id="icon-x" viewBox="0 0 24 24">
      <path fill="none" stroke="currentColor" stroke-width="2" d="M18 6L6 18M6 6l12 12"/>
    </symbol>
    <symbol id="icon-chevron-right" viewBox="0 0 24 24">
      <polyline points="9 18 15 12 9 6" fill="none" stroke="currentColor" stroke-width="2"/>
    </symbol>
    <symbol id="icon-arrow-up" viewBox="0 0 24 24">
      <line x1="12" y1="19" x2="12" y2="5" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="5 12 12 5 19 12" fill="none" stroke="currentColor" stroke-width="2"/>
    </symbol>
  </svg>

  <div class="app-container">
    <!-- NEW SIDEBAR -->
    <nav class="sidebar-new">
      <!-- Logo -->
      <div class="sidebar-new-header">
        <a href="index.html" class="sidebar-new-logo">
          <svg width="32" height="25" viewBox="0 0 73 57" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M72.186 51.1272C72.1736 53.2786 70.4189 55.0136 68.2676 55.0026C66.1153 54.991 64.3775 53.2364 64.3889 51.0842L72.186 51.1272ZM38.9722 49.4096C38.9722 51.5244 37.9538 53.3139 36.7714 54.4963C35.5892 55.6781 33.8019 56.6968 31.6881 56.6971H7.28743C2.85296 56.697 0 52.9988 0 49.4096V44.5216C0 42.6195 0.653047 40.7314 2.07503 39.3092C3.4973 37.8869 5.38518 37.2342 7.28743 37.2341H7.37348L7.66471 21.4513H7.53564C3.10105 21.4513 0.24821 17.7531 0.24821 14.1639V12.1319C0.24821 8.62572 2.46487 5.08602 5.74523 3.77216L5.74854 3.76885C5.76119 3.76364 5.7869 3.75369 5.82134 3.73907C5.89055 3.70968 6.00052 3.66121 6.14236 3.59676C6.42935 3.46632 6.8386 3.27125 7.29736 3.02422C8.27229 2.49921 9.24118 1.86467 9.8622 1.24373L10.1567 0.975668C11.6875 -0.273454 13.9454 -0.183336 15.3724 1.24373C16.8942 2.76571 16.8943 5.23209 15.3724 6.75399C13.9604 8.16601 12.2182 9.22714 10.9907 9.88805C10.3485 10.2338 9.78088 10.5051 9.36909 10.6922C9.16319 10.7858 8.99302 10.8581 8.86936 10.9107C8.80737 10.937 8.75506 10.9612 8.71712 10.9769C8.69904 10.9843 8.68299 10.9885 8.67079 10.9934C8.66494 10.9958 8.65866 10.9982 8.65424 11L8.64762 11.0033L8.64431 11.0066C8.6152 11.0259 8.4665 11.1236 8.30344 11.374C8.11148 11.6693 8.04199 11.9594 8.04199 12.1319V13.6575H8.21077C11.6797 13.6575 15.4717 16.3006 15.4717 20.8457C15.4717 20.8697 15.4722 20.8945 15.4717 20.9185L15.1573 37.8629L15.154 37.8596C15.129 40.1366 13.8817 41.9223 12.6785 42.9992C11.4834 44.0686 9.75188 44.9677 7.79709 45.018V48.9033H31.1784V45.0014C27.0626 44.7443 24.9344 41.3929 24.6753 38.4057L24.6489 37.7901V5.35409C24.6489 4.73218 24.7012 3.93382 24.96 3.14006C25.165 2.51143 25.8844 0.755852 27.9418 0.168159C30.0295 -0.427717 31.5792 0.719272 32.1051 1.17754C32.7364 1.72795 33.2087 2.39686 33.5546 2.96796L48.5399 27.2131L63.5251 2.96796C63.8709 2.39709 64.3404 1.72772 64.9714 1.17754C65.4965 0.719697 67.0486 -0.428646 69.138 0.168159C71.1952 0.755913 71.9115 2.51145 72.1165 3.14006C72.3754 3.93402 72.4309 4.73202 72.4309 5.35409V5.37394L72.186 51.1272L64.3889 51.0842L64.5775 16.0867L53.5504 33.9346L53.5471 33.9313C52.7411 35.256 51.1239 37.0518 48.5399 37.0521C45.9565 37.0521 44.3357 35.2592 43.5294 33.9346L32.4427 15.994V37.2672C34.0824 37.4189 35.6669 38.0755 36.9005 39.3092C38.3222 40.7314 38.9722 42.6196 38.9722 44.5216V49.4096Z" fill="url(#paint0_linear_sidebar_dash)"/>
            <defs>
              <linearGradient id="paint0_linear_sidebar_dash" x1="4.93846" y1="52.8314" x2="51.527" y2="-5.07724" gradientUnits="userSpaceOnUse">
                <stop stop-color="#222AEC"/>
                <stop offset="1" stop-color="#3C7CF1"/>
              </linearGradient>
            </defs>
          </svg>
          <span class="sidebar-new-title">OneMonitoring</span>
        </a>
      </div>

      <!-- Create Button -->
      <button class="sidebar-new-create">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        Create
      </button>

      <!-- Search -->
      <div class="sidebar-new-search">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="7"/>
          <line x1="16" y1="16" x2="21" y2="21"/>
        </svg>
        <input type="text" placeholder="Discover" />
      </div>

      <!-- Team Section -->
      <div class="sidebar-new-section">
        <button class="sidebar-new-section-header">
          <span>ROQ Metrics Oncall</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </button>
        
        <div class="sidebar-new-nav">
          <a href="../feed.html" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="4" y1="6" x2="4" y2="18"/>
              <line x1="4" y1="12" x2="12" y2="12"/>
              <circle cx="4" cy="6" r="2"/>
              <circle cx="4" cy="18" r="2"/>
              <circle cx="12" cy="12" r="2"/>
            </svg>
            <span>Feed</span>
          </a>
          <a href="index.html" class="sidebar-new-nav-item active">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
              <polyline points="9 22 9 12 15 12 15 22" fill="none" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span>Home</span>
          </a>
          <a href="agents.html" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="5" cy="6" r="2"/>
              <circle cx="19" cy="6" r="2"/>
              <circle cx="12" cy="18" r="2"/>
              <path d="M5 8v2a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V8"/>
              <line x1="12" y1="14" x2="12" y2="16"/>
            </svg>
            <span>Agents</span>
          </a>
          <a href="#" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <circle cx="12" cy="12" r="6"/>
              <circle cx="12" cy="12" r="2"/>
            </svg>
            <span>Entities</span>
          </a>
          <a href="#" class="sidebar-new-nav-item">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
            </svg>
            <span>Metrics</span>
          </a>
        </div>
      </div>

      <!-- Divider -->
      <div class="sidebar-new-divider"></div>

      <!-- Expandable Sections -->
      <div class="sidebar-new-nav expandable">
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"/>
            <path d="M12 1v6m0 6v10"/>
            <path d="M21 12h-6m-6 0H1"/>
          </svg>
          <span>Detection</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            <line x1="12" y1="8" x2="12" y2="12"/>
            <line x1="12" y1="16" x2="12.01" y2="16"/>
          </svg>
          <span>Prevention</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2C8.5 6 4 9.5 4 14C4 18.4183 7.58172 22 12 22C16.4183 22 20 18.4183 20 14C20 9.5 15.5 6 12 2Z"/>
          </svg>
          <span>SEV Criteria</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <polyline points="9 14 12 17 22 7"/>
          </svg>
          <span>SLIs / SLOs (SLICK)</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </a>
        <a href="#" class="sidebar-new-nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <line x1="3" y1="9" x2="21" y2="9"/>
            <line x1="9" y1="21" x2="9" y2="9"/>
          </svg>
          <span>Data Exploration</span>
          <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <header class="header" id="global-header">
        <div class="header-left">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          <span>Welcome, Kwame</span>
        </div>
        <div class="header-right">
          <button class="ask-opsmate-btn" id="ask-opsmate-btn">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2C17.52 2 22 6.48 22 12s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm.86 4.56c-.32-.75-1.38-.75-1.7 0l-1.23 2.85c-.09.22-.27.39-.49.48l-2.89 1.23c-.74.32-.75 1.38 0 1.7l2.77 1.22c.21.09.38.26.47.46l1.34 2.95c.33.73 1.38.72 1.7.02l1.25-2.91c.09-.22.27-.39.49-.49l2.86-1.22c.75-.32.75-1.38 0-1.7l-2.86-1.22c-.22-.09-.39-.27-.49-.49l-1.22-2.85z" fill="currentColor"/>
            </svg>
            Ask Opsmate
          </button>
          <button class="settings-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
          </button>
        </div>
      </header>

      <div class="content-area">
        <!-- Home Page -->
        <div id="home-page" class="page-view active">
          <div class="content-inner">
            <!-- Ops Agent Summary Card -->
            <div class="card">
              <div class="card-body">
                <div class="card-header">
                  <div class="card-header-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <defs>
                        <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                          <stop offset="0%" style="stop-color:#3B9AF5"/>
                          <stop offset="100%" style="stop-color:#0064E0"/>
                        </linearGradient>
                      </defs>
                      <path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12.8643 6.56055C12.5434 5.81375 11.482 5.81375 11.1611 6.56055L9.93555 9.41309C9.84182 9.63127 9.66693 9.80492 9.44824 9.89844L6.56152 11.1328C5.81674 11.4513 5.81199 12.5027 6.55371 12.8281L9.33008 14.0469C9.53855 14.1383 9.70645 14.303 9.80078 14.5098L11.1445 17.458C11.4776 18.1888 12.5226 18.178 12.8398 17.4404L14.0908 14.5283C14.1846 14.3103 14.3586 14.1365 14.5771 14.043L17.4385 12.8203C18.1871 12.5003 18.187 11.4422 17.4385 11.1221L14.5771 9.89844C14.3586 9.80487 14.1845 9.63111 14.0908 9.41309L12.8643 6.56055Z" fill="url(#blueGradient)"/>
                    </svg>
                  </div>
                  <div>
                    <div class="card-title">Ops Agent summary for today:</div>
                    <ul class="summary-list">
                      <li>Actions needed from you resolve <strong>SEV1</strong> <a href="#">560924812</a> and setting up <strong>Mobile Release protection</strong> to prevent future incidents.</li>
                      <li>Agents auto-updates this week: <strong>6 tuned Detectors</strong>, <strong>12 Metrics</strong> issues resolved, <strong>10 Preventions</strong> quality improved.</li>
                    </ul>
                  </div>
                </div>

                <div class="chat-input-container">
                  <svg class="icon icon-24 chat-input-icon"><use href="#icon-stardust-outline"></use></svg>
                  <input type="text" class="chat-input" placeholder="What can I help you with today?">
                  <button class="chat-send-btn">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="19" x2="12" y2="5"/>
                      <polyline points="5 12 12 5 19 12"/>
                    </svg>
                  </button>
                </div>

                <div class="quick-actions">
                  <button class="quick-action-btn">
                    <img src="images/plus_Outline_24.svg" alt="" class="btn-icon">
                    Create a metric
                  </button>
                  <button class="quick-action-btn">
                    <img src="images/plus_Outline_24.svg" alt="" class="btn-icon">
                    Add protections to my metric
                  </button>
                  <button class="quick-action-btn">
                    <svg class="icon btn-icon"><use href="#icon-circles-outline"></use></svg>
                    Find entities
                  </button>
                </div>
              </div>
            </div>

            <!-- Tabs -->
            <div class="tabs">
              <button class="tab active">
                Actions needed
                <span class="tab-count">8</span>
              </button>
              <button class="tab">
                Agentic auto-updates
                <span class="tab-count">12</span>
              </button>
              <a href="#" class="tabs-clear">Clear all</a>
            </div>

            <!-- Incidents Card -->
            <div class="card">
              <div class="table-card-header">
                <div class="table-card-title">
                  Incidents
                  <span class="count-badge">2</span>
                  <span class="title-info">1 SEV</span>
                </div>
                <a href="#" class="see-all-link">See all</a>
              </div>
              <table class="data-table">
                <thead>
                  <tr>
                    <th style="width: 52%;">Alert</th>
                    <th style="width: 9%;">SEV</th>
                    <th style="width: 14%;">First seen</th>
                    <th style="width: 25%;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <div class="alert-cell">
                        <div class="alert-indicator"></div>
                        <div class="alert-content">
                          <span class="alert-category">Ray-Ban Display</span>
                          <span class="alert-name">Protections Missing: Ray-Ban Display Maps</span>
                        </div>
                      </div>
                    </td>
                    <td><span class="sev-badge sev4">SEV4</span></td>
                    <td>12/02/25</td>
                    <td>
                      <a href="#" class="action-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                        Go to Runbook
                      </a>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="alert-cell">
                        <div class="alert-indicator" style="background: transparent;"></div>
                        <div class="alert-content">
                          <span class="alert-category">API Gateway</span>
                          <span class="alert-name">Response latency p99 exceeded threshold</span>
                        </div>
                      </div>
                    </td>
                    <td></td>
                    <td>12/02/25</td>
                    <td>
                      <a href="#" class="action-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                        Go to Runbook
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Urgent Protection Issues Card -->
            <div class="card">
              <div class="table-card-header">
                <div class="table-card-title">
                  Urgent Protection Issues
                  <span class="count-badge">6</span>
                </div>
                <a href="#" class="see-all-link">See all</a>
              </div>
              <table class="data-table">
                <thead>
                  <tr>
                    <th style="width: 52%;">Alert</th>
                    <th style="width: 9%;">Priority</th>
                    <th style="width: 14%;">First seen</th>
                    <th style="width: 25%;">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <div class="alert-cell">
                        <div class="alert-indicator"></div>
                        <div class="alert-content">
                          <span class="alert-category">Ray-Ban Display</span>
                          <span class="alert-name">Protections Missing: Ray-Ban Display Maps</span>
                        </div>
                      </div>
                    </td>
                    <td><span class="priority-pill high">High</span></td>
                    <td>12/02/25</td>
                    <td>
                      <a href="#" class="action-link">
                        <svg class="icon action-icon"><use href="#icon-star-ai-outline"></use></svg>
                        Set up Protections
                      </a>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="alert-cell">
                        <div class="alert-indicator"></div>
                        <div class="alert-content">
                          <span class="alert-category">Auth Service</span>
                          <span class="alert-name">Token validation coverage below 90%</span>
                        </div>
                      </div>
                    </td>
                    <td><span class="priority-pill high">High</span></td>
                    <td>12/02/25</td>
                    <td>
                      <a href="#" class="action-link">
                        <svg class="icon action-icon"><use href="#icon-star-ai-outline"></use></svg>
                        Improve Quality
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- End Home Page -->
      </div>
    </main>
  </div>

  <script>
    // Search functionality
    const searchInput = document.getElementById('searchInput');
    const searchPopover = document.getElementById('searchPopover');
    const searchClearBtn = document.getElementById('searchClearBtn');
    const defaultPopoverContent = document.getElementById('defaultPopoverContent');
    const autocompleteResults = document.getElementById('autocompleteResults');
    const autocompleteList = document.getElementById('autocompleteList');

    const searchItems = [
      { name: 'Facebook Ads Manager', category: 'app' },
      { name: 'Facebook Business Suite', category: 'product' },
      { name: 'Facebook Login Integration', category: 'endpoint' },
      { name: 'Instagram Feed API', category: 'GraphQL query' },
      { name: 'Instagram Stories', category: 'comet route' },
      { name: 'Instagram Shopping', category: 'product' }
    ];

    searchInput.addEventListener('focus', () => {
      searchPopover.classList.add('visible');
    });

    searchInput.addEventListener('blur', (e) => {
      setTimeout(() => {
        if (!searchPopover.contains(document.activeElement)) {
          searchPopover.classList.remove('visible');
        }
      }, 150);
    });

    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      
      // Show/hide clear button
      if (query.length > 0) {
        searchClearBtn.classList.add('visible');
      } else {
        searchClearBtn.classList.remove('visible');
      }

      if (query.length > 0) {
        const filtered = searchItems.filter(item => 
          item.name.toLowerCase().includes(query)
        );

        if (filtered.length > 0) {
          autocompleteList.innerHTML = filtered.map(item => {
            const highlighted = item.name.replace(
              new RegExp(`(${query})`, 'gi'),
              '<span class="highlight">$1</span>'
            );
            return `
              <div class="autocomplete-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
                <span>${highlighted}</span>
                <span style="margin-left: auto; font-size: 11px; color: var(--text-muted);">${item.category}</span>
              </div>
            `;
          }).join('');
          defaultPopoverContent.style.display = 'none';
          autocompleteResults.style.display = 'block';
        } else {
          autocompleteList.innerHTML = '<div class="no-results">No results found</div>';
          defaultPopoverContent.style.display = 'none';
          autocompleteResults.style.display = 'block';
        }
      } else {
        defaultPopoverContent.style.display = 'block';
        autocompleteResults.style.display = 'none';
      }
    });

    // Clear button functionality
    searchClearBtn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      searchInput.value = '';
      searchClearBtn.classList.remove('visible');
      defaultPopoverContent.style.display = 'block';
      autocompleteResults.style.display = 'none';
      searchInput.focus();
    });

    // Accordion functionality
    const accordionTriggers = document.querySelectorAll('.accordion-trigger');
    accordionTriggers.forEach(trigger => {
      trigger.addEventListener('click', () => {
        const accordion = trigger.closest('.nav-accordion');
        const content = accordion.querySelector('.accordion-content');
        const isExpanded = trigger.classList.contains('expanded');

        if (isExpanded) {
          trigger.classList.remove('expanded');
          content.classList.remove('open');
        } else {
          trigger.classList.add('expanded');
          content.classList.add('open');
        }
      });
    });

    // Register Service Worker for image caching
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then((registration) => {
          console.log('ServiceWorker registered:', registration.scope);
        })
        .catch((error) => {
          console.log('ServiceWorker registration failed:', error);
        });
    }

  </script>

  <!-- Opsmate Chat Panel - Slides out and pushes content -->
  <div class="opsmate-panel" id="opsmate-panel">
    <!-- Iframe embedding the Opsmate Chat (chat-only mode) -->
    <iframe 
      class="opsmate-iframe" 
      id="opsmate-iframe"
      src="../opsmate/dist/index.html?chatOnly=true"
      title="Opsmate Chat"
    ></iframe>
  </div>

  <!-- Opsmate Panel Component -->
  <script src="components/opsmate-panel.js"></script>

</body>
</html>



















